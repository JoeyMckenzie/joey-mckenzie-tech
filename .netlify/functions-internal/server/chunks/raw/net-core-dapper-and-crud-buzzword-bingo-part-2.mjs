// ROLLUP_NO_REPLACE 
 const netCoreDapperAndCrudBuzzwordBingoPart2 = "{\"parsed\":{\"_path\":\"/blog/net-core-dapper-and-crud-buzzword-bingo-part-2\",\"_dir\":\"blog\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"title\":\"Clean architecture, Dapper, MediatR, and buzzword bingo (part 2)\",\"description\":\"Implement the unit of work and repository patterns with Dapper.\",\"pubDate\":\"Oct 06 2019\",\"heroImage\":\"https://imgs.xkcd.com/comics/code_quality.png\",\"category\":\".NET\",\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"UPDATE: I've added cancellation token support to each of the database operations below, and encourage readers to checkout the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"master\"}]},{\"type\":\"text\",\"value\":\" branch to see how things look now. The methods below we're slight altered to use a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CommandDefinition\"}]},{\"type\":\"text\",\"value\":\" that utilizes a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CancellationToken\"}]},{\"type\":\"text\",\"value\":\" passed down from the core business logic layer, and used in place of the regular string queries we've written below.\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We finally made it... our domain layer is ready to roll, and it's now time to spin up some actual application code. In our \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"/blog/net-core-dapper-and-crud-buzzword-bingo/\"},\"children\":[{\"type\":\"text\",\"value\":\"last post\"}]},{\"type\":\"text\",\"value\":\", we setup our initial domain layer for our favorite fictional brewery, Dappery (\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-1-domain-layer\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"source code\"}]},{\"type\":\"text\",\"value\":\" for reference). In this post, we'll build out the data access layer that will be our primary persistence mechanism into our database. We'll make use of SQL server (or Postgres) with Docker and SQLite running our unit tests within this layer. Feel free to checkout the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-2-data-layer\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"source code\"}]},{\"type\":\"text\",\"value\":\" on GitHub for this section for those following along.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Before we jump into the code, let's take a step back and understand \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"why\"}]},{\"type\":\"text\",\"value\":\" we separate our our data access layer (DAL) from the rest of our code.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"Inward_Facing_Dependencies\",\"src\":\"/blog/net-core-dapper-and-crud-series/part-2/inward_dependencies.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The good ole fashioned dependency graph, made famous by Robert Martin a.k.a. Dr. Bob, lays out the foundation of domain driven design (DDD). For our relatively simple application, we focus on creating four distinct layers within our application code to ensure that the layers are ultimately, by some chain of dependency, dependent on the domain layer (effectively the 'D' in SOLID, \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"dependency inversion\"}]},{\"type\":\"text\",\"value\":\"). With our layers pointing inward toward our domain, we create \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"clear\"}]},{\"type\":\"text\",\"value\":\" boundaries within our application that deal with separate concerns:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The web and persistence layers directly depend on our core layer\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Our core layer directly depends on the domain layer\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"By association, our web and persistence, inadvertently, have a dependency on our domain layer\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The domain layer has \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"no\"}]},{\"type\":\"text\",\"value\":\" dependencies - all it knows, and cares about, are the entities, view models, DTOs, etc. that live inside this project and how each is related\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Creating these clear boundaries of separation helps to create a modular application, with each layer isolated from one another in perfect harmony. By creating this inversion of dependency within our application, for example, our core layer \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"does not\"}]},{\"type\":\"text\",\"value\":\" need to know about ANY of the internal workings of the data layer - all the core layer cares about is that it can get data from a database using this \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/Actor_model\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"actor\"}]},{\"type\":\"text\",\"value\":\". How the persistence layer interacts with the database is entirely abstracted from our core layer. Our data layer can change its data interaction mechanism, swap database providers, etc. and our core layer \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"will not\"}]},{\"type\":\"text\",\"value\":\" care as it does not concern itself with \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"how\"}]},{\"type\":\"text\",\"value\":\" the persistence layer works.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With that out of way, let's finally dig into the data access code we'll be writing. From the start, we said we'd be working with Dapper for our database interaction, so let's go ahead and create a new project (a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"classlib\"}]},{\"type\":\"text\",\"value\":\" in our case). Again, I'll be using the command line, but feel free to spin up the new project in your IDE of choice:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-bash shiki shiki-themes vitesse-dark\",\"code\":\"~/Dappery/src$ dotnet new classlib -n Dappery.Data\\n~/Dappery/src$ dotnet sln ../Dappery.sln add Dappery.Data/Dappery.Data.csproj\\n\",\"language\":\"bash\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"/Dappery/src$ dotnet new classlib -n Dappery.Data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"/Dappery/src$ dotnet sln ../Dappery.sln add Dappery.Data/Dappery.Data.csproj\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With our persistence library wired up, let's go ahead and update our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".csproj\"}]},{\"type\":\"text\",\"value\":\" file within \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Data\"}]},{\"type\":\"text\",\"value\":\" to utilize some of the new features of C# 8. Let's replace the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyGroup\"}]},{\"type\":\"text\",\"value\":\" section with the following:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-xml shiki shiki-themes vitesse-dark\",\"code\":\"<PropertyGroup>\\n    <TargetFramework>netstandard2.1</TargetFramework>\\n    <Nullable>enable</Nullable>\\n    <LangVersion>8.0</LangVersion>\\n</PropertyGroup>\\n\",\"language\":\"xml\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    <\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"TargetFramework\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"netstandard2.1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"TargetFramework\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    <\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"Nullable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"enable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"Nullable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    <\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"LangVersion\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"8.0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"LangVersion\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Targeting \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"netstandard2.1\"}]},{\"type\":\"text\",\"value\":\" allows us to utilize C# 8 features, and we'll also turn on \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"nullable reference types\"}]},{\"type\":\"text\",\"value\":\" to allow the compiler to help us catch possible null references. From our dependency graph above, we'll need to create a reference between our data layer and our core layer. For reasons we'll see later, we'll actually need to add just a bit of skeleton code in the core application layer for our data layer to utilize, so let's go ahead and add it now.\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-bash shiki shiki-themes vitesse-dark\",\"code\":\"~/Dappery/src$ dotnet new classlib -n Dappery.Core\\n~/Dappery/src$ dotnet sln ../Dappery.sln add Dappery.Core/Dappery.Core.csproj\\n\",\"language\":\"bash\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"/Dappery/src$ dotnet new classlib -n Dappery.Core\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"/Dappery/src$ dotnet sln ../Dappery.sln add Dappery.Core/Dappery.Core.csproj\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With the project added, go ahead and replace the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyGroup\"}]},{\"type\":\"text\",\"value\":\" with the above for all the aforementioned reasons. Now, back in our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".csproj\"}]},{\"type\":\"text\",\"value\":\" file in our data project, let's add the core layer as a dependency. Feel free to create the reference using Visual Studio/Rider, as it really only boils down to adding the following line beneath the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyGroup\"}]},{\"type\":\"text\",\"value\":\" tag:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-xml shiki shiki-themes vitesse-dark\",\"code\":\"<ItemGroup>\\n    <ProjectReference Include=\\\"..\\\\Dappery.Core\\\\Dappery.Core.csproj\\\" />\\n</ItemGroup>\\n\",\"language\":\"xml\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ItemGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    <\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ProjectReference\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Include\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"..\\\\Dappery.Core\\\\Dappery.Core.csproj\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" />\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ItemGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"As we mentioned above, the data layer will also implicitly rely on the domain layer \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"through\"}]},{\"type\":\"text\",\"value\":\" its dependency on the core layer. What this means for us, code-wise, is to add the following reference in our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".csproj\"}]},{\"type\":\"text\",\"value\":\" file in the core project:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-xml shiki shiki-themes vitesse-dark\",\"code\":\"<ItemGroup>\\n    <ProjectReference Include=\\\"..\\\\Dappery.Domain\\\\Dappery.Domain.csproj\\\" />\\n</ItemGroup>\\n\",\"language\":\"xml\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ItemGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    <\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ProjectReference\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Include\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#DBD7CAEE\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"..\\\\Dappery.Domain\\\\Dappery.Domain.csproj\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" />\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"ItemGroup\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With the core project referencing the domain layer, our data project will \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"also\"}]},{\"type\":\"text\",\"value\":\" have a reference to the domain layer without explicitly adding the reference in our data layer. Adding the domain project as a direct reference in our data project would actually have created a \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"symmetric dependency\"}]},{\"type\":\"text\",\"value\":\", which we'll want to try and avoid. With the ceremony out of the way, let's talk about what we'll be adding in this layer.\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"the-data-layer\"},\"children\":[{\"type\":\"text\",\"value\":\"The Data Layer\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"As this is a project revolving around Dapper for our database persistence, it's probably a good idea to bring in some patterns to help us define our intent within this layer. Rather that writing raw Dapper queries within this layer, we'll wrap our interaction with Dapper within beer and brewery repositories that will, in turn, be wrapped in a unit of work. In plain english, we'll effectively be using the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://www.c-sharpcorner.com/UploadFile/b1df45/unit-of-work-in-repository-pattern/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Repository and Unit of Work Patterns\"}]},{\"type\":\"text\",\"value\":\". Alongside bringing in these patterns, a side effect of our clear application layer separation will be the creation of a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"ports and adapters architecture\"}]},{\"type\":\"text\",\"value\":\" (also known as hexagonal architecture).\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"For our use case, our core project will offer a port in the form of data access that our data project will then fill as the adapter. If you're unfamiliar with the repository and unit of work patterns, the specific problems they solve, and their pros and cons, it's well worth it to take the afternoon to read up on them. For now, we'll assume you're somewhat familiar with the pattern. With all the technical jargon out of the way, let's go ahead and create a port (effectively an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"interface\"}]},{\"type\":\"text\",\"value\":\") within our core project, that our data project will provide the adapter for (fancy term for implementing the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"interface\"}]},{\"type\":\"text\",\"value\":\"). In \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\", go ahead and add a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"text\",\"value\":\" folder and the following classes:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"dataibeerrepositorycs\"},\"children\":[{\"type\":\"text\",\"value\":\"Data/IBeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Data\\n{\\n    using System.Collections.Generic;\\n    using System.Threading.Tasks;\\n    using Domain.Entities;\\n\\n    public interface IBeerRepository\\n    {\\n        Task<IEnumerable<Beer>> GetAllBeers();\\n\\n        Task<Beer> GetBeerById(int id);\\n\\n        Task<int> CreateBeer(Beer beer);\\n\\n        Task UpdateBeer(Beer beer);\\n\\n        Task<int> DeleteBeer(int beer);\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" interface\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBeerRepository\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBeers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBeerById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"dataibeerrepositorycs-1\"},\"children\":[{\"type\":\"text\",\"value\":\"Data/IBeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Data\\n{\\n    using System.Collections.Generic;\\n    using System.Threading.Tasks;\\n    using Domain.Entities;\\n\\n    public interface IBreweryRepository\\n    {\\n        Task<IEnumerable<Brewery>> GetAllBreweries();\\n\\n        Task<Brewery> GetBreweryById(int id);\\n\\n        Task<int> CreateBrewery(Brewery brewery);\\n\\n        Task UpdateBrewery(Brewery brewery, bool updateAddress = false);\\n\\n        Task<int> DeleteBrewery(int breweryId);\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" interface\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBreweryRepository\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" updateAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"dataiunitofworkcs\"},\"children\":[{\"type\":\"text\",\"value\":\"Data/IUnitOfWork.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Data\\n{\\n    using System;\\n\\n    public interface IUnitOfWork : IDisposable\\n    {\\n        IBeerRepository BeerRepository { get; }\\n\\n        IBreweryRepository BreweryRepository { get; }\\n\\n        void Commit();\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" interface\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDisposable\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        IBeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"        IBreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"        void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In our repositories, we've got all the ingredients for a pretty basic CRUD application. Notice that our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"text\",\"value\":\" interface inherits from \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IDisposable\"}]},{\"type\":\"text\",\"value\":\", as it will be in charge of the database resources that we'll need to clean up once we're finished with our data operations.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"For our database provider, feel free to use whatever your preferred provider happens to be. I lay three options for us: SQL Server, Postgres, and SQLite. I'll be spinning up both a SQL Server and Postgres database, as an exercise of abstraction to really drive home the point of agnostic data access, using \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com/_/postgres\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Postgres\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com/_/microsoft-mssql-server\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"SQL Server\"}]},{\"type\":\"text\",\"value\":\" Docker images. For our unit tests, we'll be using an in-memory version of SQLite to run our tests against. If you don't feel like setting up a database for this application, don't worry... I got you. We'll generalize our database layer just enough that you'll be able to use the in-memory version of SQLite for the application as well. Since this isn't \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"really\"}]},{\"type\":\"text\",\"value\":\" a post about setting up database providers via Docker images, so I'll defer to this \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver15&pivots=cs1-bash\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"article\"}]},{\"type\":\"text\",\"value\":\" on the official Microsoft docs on how to do so for SQL Server, and the aforementioned Docker hub for Postgres. The beauty of the architecture we've laid out so far is that no matter the database provider, our application will work with just a simple connection string change.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Before we get started implementing our repository operations, let's go ahead and setup our database. Once you've got your SQL Server, or Postgres, instance up and running, take a look at our \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-2-data-layer/src/Dappery.Data/Scripts\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"initialization files\"}]},{\"type\":\"text\",\"value\":\" to help create, link, and seed some test data for either provider. Go ahead and drop into a console and run the SQL for which ever provider you decide to roll with.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With our database ready to roll, let's go ahead and implement the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IBeerRepository.cs\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IBreweryRepository.cs\"}]},{\"type\":\"text\",\"value\":\" interfaces. Within \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Data\"}]},{\"type\":\"text\",\"value\":\", let's create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Repositories\"}]},{\"type\":\"text\",\"value\":\" folder with the following implementation classes:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"repositoriesbeerrepositorycs\"},\"children\":[{\"type\":\"text\",\"value\":\"Repositories/BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Data.Repositories\\n{\\n    using System.Collections.Generic;\\n    using System.Data;\\n    using System.Linq;\\n    using System.Text;\\n    using System.Threading.Tasks;\\n    using Core.Data;\\n    using Dapper;\\n    using Domain.Entities;\\n\\n    public class BeerRepository : IBeerRepository\\n    {\\n        private readonly IDbTransaction _dbTransaction;\\n        private readonly IDbConnection _dbConnection;\\n        private readonly string _insertRowRetrievalQuery;\\n\\n        public BeerRepository(IDbTransaction dbTransaction, string insertRowRetrievalQuery)\\n        {\\n            _dbTransaction = dbTransaction;\\n            _dbConnection = _dbTransaction.Connection;\\n            _insertRowRetrievalQuery = insertRowRetrievalQuery;\\n        }\\n\\n        public async Task<IEnumerable<Beer>> GetAllBeers()\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<Beer> GetBeerById(int id)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<Beer> CreateBeer(Beer beer)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<Beer> UpdateBeer(Beer beer)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<int> DeleteBeer(int beerId)\\n        {\\n            throw new NotImplementedException();\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Repositories\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Linq\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Text\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dapper\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBeerRepository\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _insertRowRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IDbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" insertRowRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Connection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _insertRowRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" insertRowRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBeers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBeerById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"repositoriesbreweryrepositorycs\"},\"children\":[{\"type\":\"text\",\"value\":\"Repositories/BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Data.Repositories\\n{\\n    using System.Collections.Generic;\\n    using System.Data;\\n    using System.Linq;\\n    using System.Text;\\n    using System.Threading.Tasks;\\n    using Core.Data;\\n    using Dapper;\\n    using Domain.Entities;\\n\\n    public class BreweryRepository : IBreweryRepository\\n    {\\n        private readonly IDbTransaction _dbTransaction;\\n        private readonly IDbConnection _dbConnection;\\n        private readonly string _rowInsertRetrievalQuery;\\n\\n        public BreweryRepository(IDbTransaction dbTransaction, string rowInsertRetrievalQuery)\\n        {\\n            _dbTransaction = dbTransaction;\\n            _dbConnection = _dbTransaction.Connection;\\n            _rowInsertRetrievalQuery = rowInsertRetrievalQuery;\\n        }\\n\\n        public async Task<Brewery> GetBreweryById(int id)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<IEnumerable<Brewery>> GetAllBreweries()\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<Brewery> CreateBrewery(Brewery brewery)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<Brewery> UpdateBrewery(Brewery brewery, bool updateAddress)\\n        {\\n            throw new NotImplementedException();\\n        }\\n\\n        public async Task<int> DeleteBrewery(int breweryId)\\n        {\\n            throw new NotImplementedException();\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Repositories\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Linq\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Text\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dapper\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBreweryRepository\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IDbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Connection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" updateAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NotImplementedException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"For now, some of our imported namespaces are unused, but will be needed later when we start implementing these methods. Next, let's add the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork.cs\"}]},{\"type\":\"text\",\"value\":\" implementation at the root of our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Data\"}]},{\"type\":\"text\",\"value\":\" project:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"unitofworkcs\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Data\\n{\\n    using System;\\n    using System.Data;\\n    using Core.Data;\\n    using Dapper;\\n    using Microsoft.Data.SqlClient;\\n    using Microsoft.Data.Sqlite;\\n    using Npgsql;\\n    using Repositories;\\n\\n    public class UnitOfWork : IUnitOfWork\\n    {\\n        private readonly IDbConnection _dbConnection;\\n        private readonly IDbTransaction _dbTransaction;\\n\\n        public UnitOfWork(string? connectionString, bool isPostgres = false)\\n        {\\n            // Based on our database implementation, we'll need a reference to the last row inserted\\n            string rowInsertRetrievalQuery;\\n\\n            // If no connection string is passed, we'll assume we're running with our SQLite database provider\\n            if (string.IsNullOrWhiteSpace(connectionString))\\n            {\\n                _dbConnection = new SqliteConnection(\\\"Data Source=:memory:\\\");\\n                rowInsertRetrievalQuery = \\\"; SELECT last_insert_rowid();\\\";\\n            }\\n            else\\n            {\\n                _dbConnection = isPostgres ? (IDbConnection) new NpgsqlConnection(connectionString) : new SqlConnection(connectionString);\\n                rowInsertRetrievalQuery = isPostgres ? \\\"returning Id;\\\" : \\\"; SELECT CAST(SCOPE_IDENTITY() as int);\\\" ;\\n            }\\n\\n            // Open our connection, begin our transaction, and instantiate our repositories\\n            _dbConnection.Open();\\n            _dbTransaction = _dbConnection.BeginTransaction();\\n            BreweryRepository = new BreweryRepository(_dbTransaction, rowInsertRetrievalQuery);\\n            BeerRepository = new BeerRepository(_dbTransaction, rowInsertRetrievalQuery);\\n\\n            // Once our connection is open, if we're running SQLite for unit tests (or that actual application), let's seed some data\\n            if (string.IsNullOrWhiteSpace(connectionString))\\n            {\\n                try\\n                {\\n                    // We'll seed a couple breweries each with an address and several beers\\n                    SeedDatabase(_dbConnection);\\n                }\\n                catch (Exception e)\\n                {\\n                    Console.WriteLine($\\\"Could not seed the database: {e.Message}\\\");\\n                }\\n            }\\n        }\\n\\n        public IBreweryRepository BreweryRepository { get; }\\n\\n        public IBeerRepository BeerRepository { get; }\\n\\n        public void Commit()\\n        {\\n            try\\n            {\\n                _dbTransaction.Commit();\\n            }\\n            catch (Exception e)\\n            {\\n                Console.WriteLine($\\\"Could not commit the transaction, reason: {e.Message}\\\");\\n                _dbTransaction.Rollback();\\n            }\\n            finally\\n            {\\n                _dbTransaction.Dispose();\\n            }\\n        }\\n\\n        public void Dispose()\\n        {\\n            Dispose(true);\\n            GC.SuppressFinalize(this);\\n        }\\n\\n        protected virtual void Dispose(bool disposing)\\n        {\\n            if (disposing)\\n            {\\n                _dbTransaction?.Dispose();\\n                _dbConnection?.Dispose();\\n            }\\n        }\\n\\n        private void SeedDatabase(IDbConnection dbConnection)\\n        {\\n            const string createBreweriesSql = @\\\"\\n                CREATE TABLE Breweries (\\n                    Id INTEGER PRIMARY KEY,\\n                    Name TEXT(32),\\n                    CreatedAt DATE,\\n                    UpdatedAt DATE\\n                );\\n            \\\";\\n\\n            const string createBeersSql = @\\\"\\n                CREATE TABLE Beers (\\n                    Id INTEGER PRIMARY KEY,\\n                    Name TEXT(32),\\n                    BeerStyle TEXT(16),\\n                    CreatedAt DATE,\\n                    UpdatedAt DATE,\\n                    BreweryId INT NOT NULL,\\n                    CONSTRAINT FK_Beers_Breweries_Id FOREIGN KEY (BreweryId)\\n                        REFERENCES Breweries (Id) ON DELETE CASCADE\\n                );\\n            \\\";\\n\\n            const string createAddressSql = @\\\"\\n                CREATE TABLE Addresses (\\n                    Id INTEGER PRIMARY KEY,\\n                    StreetAddress TEXT(32),\\n                    City TEXT(32),\\n                    State TEXT(32),\\n                    ZipCode TEXT(8),\\n                    CreatedAt DATE,\\n                    UpdatedAt DATE,\\n                    BreweryId INTEGER NOT NULL,\\n                    CONSTRAINT FK_Address_Breweries_Id FOREIGN KEY (BreweryId)\\n                        REFERENCES Breweries (Id) ON DELETE CASCADE\\n                );\\n            \\\";\\n\\n            // Add our tables\\n            dbConnection.Execute(createBreweriesSql, _dbTransaction);\\n            dbConnection.Execute(createBeersSql, _dbTransaction);\\n            dbConnection.Execute(createAddressSql, _dbTransaction);\\n\\n            // Seed our data\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Breweries (Name, CreatedAt, UpdatedAt)\\n                VALUES\\n                    (\\n                        'Fall River Brewery',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Breweries (Name, CreatedAt, UpdatedAt)\\n                VALUES\\n                    (\\n                        'Sierra Nevada Brewing Company',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        '1030 E Cypress Ave Ste D',\\n                        'Redding',\\n                        'CA',\\n                        '96002',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        1\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        '1075 E 20th St',\\n                        'Chico',\\n                        'CA',\\n                        '95928',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        2\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        'Hexagenia',\\n                        'Ipa',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        1\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        'Widowmaker',\\n                        'DoubleIpa',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        1\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        'Hooked',\\n                        'Lager',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        1\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        'Pale Ale',\\n                        'PaleAle',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        2\\n                    );\\\",\\n                transaction: _dbTransaction);\\n\\n            dbConnection.Execute(@\\\"\\n                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES\\n                    (\\n                        'Hazy Little Thing',\\n                        'NewEnglandIpa',\\n                        CURRENT_DATE,\\n                        CURRENT_DATE,\\n                        2\\n                    );\\\",\\n                transaction: _dbTransaction);\\n        }\\n\\n        ~UnitOfWork()\\n        {\\n            Dispose(false);\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dapper\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Microsoft\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"SqlClient\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Microsoft\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Sqlite\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Npgsql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Repositories\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IDbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" connectionString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" isPostgres\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Based on our database implementation, we'll need a reference to the last row inserted\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // If no connection string is passed, we'll assume we're running with our SQLite database provider\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsNullOrWhiteSpace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"connectionString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" SqliteConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Data Source=:memory:\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"; SELECT last_insert_rowid();\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            else\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" isPostgres\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IDbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" NpgsqlConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"connectionString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" SqlConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"connectionString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" isPostgres\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"returning Id;\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"; SELECT CAST(SCOPE_IDENTITY() as int);\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" ;\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Open our connection, begin our transaction, and instantiate our repositories\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Open\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"BeginTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"_dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"_dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Once our connection is open, if we're running SQLite for unit tests (or that actual application), let's seed some data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsNullOrWhiteSpace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"connectionString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                try\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"                    // We'll seed a couple breweries each with an address and several beers\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                    SeedDatabase\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"_dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                catch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Exception\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WriteLine\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Could not seed the database: \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":51},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":52},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":53},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":54},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":55},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":56},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":57},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IBeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":58},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":59},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":60},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":61},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            try\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":62},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":63},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":64},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":65},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            catch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Exception\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":66},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":67},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WriteLine\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Could not commit the transaction, reason: \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":68},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Rollback\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":69},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":70},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            finally\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":71},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":72},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":73},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":74},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":75},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":76},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":77},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":78},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":79},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            GC\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"SuppressFinalize\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":80},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":81},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":82},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        protected\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" virtual\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" disposing\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":83},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":84},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"disposing\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":85},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":86},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":87},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":88},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":89},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":90},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":91},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" SeedDatabase\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IDbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":92},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":93},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            const\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" createBreweriesSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" @\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":94},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                CREATE TABLE Breweries (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":95},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Id INTEGER PRIMARY KEY,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":96},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Name TEXT(32),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":97},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CreatedAt DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":98},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    UpdatedAt DATE\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":99},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                );\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":100},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"            \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":101},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":102},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            const\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" createBeersSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" @\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":103},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                CREATE TABLE Beers (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":104},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Id INTEGER PRIMARY KEY,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":105},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Name TEXT(32),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":106},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    BeerStyle TEXT(16),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":107},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CreatedAt DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":108},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    UpdatedAt DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":109},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    BreweryId INT NOT NULL,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":110},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CONSTRAINT FK_Beers_Breweries_Id FOREIGN KEY (BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":111},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        REFERENCES Breweries (Id) ON DELETE CASCADE\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":112},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                );\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":113},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"            \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":114},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":115},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            const\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" createAddressSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" @\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":116},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                CREATE TABLE Addresses (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":117},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Id INTEGER PRIMARY KEY,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":118},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    StreetAddress TEXT(32),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":119},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    City TEXT(32),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":120},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    State TEXT(32),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":121},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    ZipCode TEXT(8),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":122},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CreatedAt DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":123},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    UpdatedAt DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":124},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    BreweryId INTEGER NOT NULL,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":125},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CONSTRAINT FK_Address_Breweries_Id FOREIGN KEY (BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":126},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        REFERENCES Breweries (Id) ON DELETE CASCADE\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":127},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                );\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":128},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"            \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":129},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":130},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Add our tables\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":131},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"createBreweriesSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":132},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"createBeersSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":133},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"createAddressSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":134},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":135},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Seed our data\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":136},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":137},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Breweries (Name, CreatedAt, UpdatedAt)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":138},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":139},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":140},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Fall River Brewery',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":141},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":142},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":143},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":144},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":145},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":146},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":147},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Breweries (Name, CreatedAt, UpdatedAt)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":148},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":149},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":150},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Sierra Nevada Brewing Company',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":151},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":152},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":153},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":154},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":155},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":156},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":157},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":158},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":159},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":160},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        '1030 E Cypress Ave Ste D',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":161},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Redding',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":162},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'CA',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":163},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        '96002',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":164},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":165},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":166},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":167},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":168},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":169},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":170},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":171},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":172},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":173},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":174},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        '1075 E 20th St',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":175},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Chico',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":176},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'CA',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":177},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        '95928',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":178},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":179},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":180},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        2\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":181},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":182},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":183},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":184},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":185},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":186},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":187},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":188},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Hexagenia',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":189},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Ipa',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":190},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":191},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":192},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":193},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":194},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":195},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":196},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":197},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":198},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":199},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":200},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Widowmaker',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":201},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'DoubleIpa',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":202},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":203},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":204},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":205},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":206},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":207},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":208},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":209},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":210},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":211},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":212},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Hooked',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":213},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Lager',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":214},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":215},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":216},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":217},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":218},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":219},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":220},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":221},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":222},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":223},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":224},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Pale Ale',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":225},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'PaleAle',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":226},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":227},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":228},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        2\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":229},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":230},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":231},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":232},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Execute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":233},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":234},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":235},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    (\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":236},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'Hazy Little Thing',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":237},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        'NewEnglandIpa',\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":238},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":239},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        CURRENT_DATE,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":240},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                        2\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":241},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                    );\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":242},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"                transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":243},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":244},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":245},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        ~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":246},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":247},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            Dispose\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":248},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":249},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":250},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Okay... that's a lot of code, so let's break it down:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In our constructor, we inject a nullable connection string (since we enabled C# 8, \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"text\",\"value\":\"s can now be nullable), and assume that if no connection string is passed, we're probably running unit tests, or just a simple in-memory version of our application. We'll see how this injected connection string will actually be passed into our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork\"}]},{\"type\":\"text\",\"value\":\" constructor in our API project in a later post.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Once we figure out who our database provider is, we open the connection, initialize our repositories, and seed some test data (if we're opting to use SQLite)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We pass a the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"rowInsertRetrievalQuery\"}]},{\"type\":\"text\",\"value\":\" string into our repositories to tell the repository how to get back the row we just added (we'll see why, exactly, we do this later)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We add some public getters to access the repositories through our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork\"}]},{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We implement our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"text\",\"value\":\" method to try and commit the transaction to the database and rollback if anything unexpected happens\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Finally, we add the disposable pattern to safely release our database resources during each transaction and destruct our instance of the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork\"}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Taking a step back let's take a look at our project structure so far:\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"Structure_So_far\",\"src\":\"/blog/net-core-dapper-and-crud-series/part-2/structure_as_of.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UnitOfWork\"}]},{\"type\":\"text\",\"value\":\" class implemented, let's finally crank out some of our repository operations. In our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"text\",\"value\":\" class, let's implement our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetAllBreweries\"}]},{\"type\":\"text\",\"value\":\" query:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"breweryrepositorycs\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<IEnumerable<Brewery>> GetAllBreweries()\\n{\\n    // Grab a reference to all beers so we can map them to there corresponding breweries\\n    var beers = (await _dbConnection.QueryAsync<Beer>(\\n        \\\"SELECT * FROM Beers\\\",\\n        transaction: _dbTransaction)).ToList();\\n\\n    return await _dbConnection.QueryAsync<Brewery, Address, Brewery>(\\n        // We join with addresses as there's a one-to-one relation with breweries, making the query a little less intensive\\n        \\\"SELECT * FROM Breweries br INNER JOIN Addresses a ON a.BreweryId = br.Id\\\",\\n        (brewery, address) =>\\n        {\\n            // Map the address to the brewery\\n            brewery.Address = address;\\n\\n            // Map each beer to the beer collection for the brewery during iteration over our result set\\n            if (beers.Any(b => b.BreweryId == brewery.Id))\\n            {\\n                foreach (var beer in beers.Where(b => b.BreweryId == brewery.Id))\\n                {\\n                    brewery.Beers.Add(beer);\\n                }\\n            }\\n\\n            return brewery;\\n        },\\n        transaction: _dbTransaction);\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Grab a reference to all beers so we can map them to there corresponding breweries\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"        transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        // We join with addresses as there's a one-to-one relation with breweries, making the query a little less intensive\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Breweries br INNER JOIN Addresses a ON a.BreweryId = br.Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map the address to the brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map each beer to the beer collection for the brewery during iteration over our result set\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Any\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ==\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                foreach\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" in\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Where\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ==\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Add\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"        transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Let's breakdown what's going on in this query:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"First, we grab a reference to all the beers in our database so we can map each beer up to its corresponding brewery\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Next, we query the brewery table and do a simple join on the address table\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Finally, once we have our result set, we set each brewery's address to the joined address, and add all the beers to the data model (if any exist)\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Again, I'm not an expert with Dapper, so I'm sure there's some optimization to be done here. As this is just us exploring Dapper, this will suffice for now. For example, rather than performing two separate queries to get our associated beers that map to their breweries, we could flat query all the beers using some nested sub queries. A few issues arise, however, as there are many beers to one brewery, so this might not be the most viable solution - simply just food for thought.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Syntactically, Dapper offers some nice ADO.NET-like methods to help us write our queries and commands. We see that the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync<Brewery, Address, Brewery>\"}]},{\"type\":\"text\",\"value\":\" method sets up the expectation of what this query returns - the first two generic types tell Dapper that this is a joined query that will contain two of our entities, with the third being the entity Dapper should perform the mapping for and ultimately return. We see that one of the parameters in this call is an expression function (the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Func<Brewery, Address>\"}]},{\"type\":\"text\",\"value\":\") that we use to add the reference to the address for the brewery and add all the beers.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Let's jump over to our beer repository and implement the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetAllBeers\"}]},{\"type\":\"text\",\"value\":\" method:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"beerrepositorycs\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<IEnumerable<Beer>> GetAllBeers()\\n{\\n    // Retrieve the addresses, as this is a nested mapping\\n    var addresses = (await _dbConnection.QueryAsync<Address>(\\n        \\\"SELECT * FROM Addresses\\\",\\n        transaction: _dbTransaction)).ToList();\\n\\n    return await _dbConnection.QueryAsync<Beer, Brewery, Beer>(\\n        @\\\"SELECT b.*, br.* FROM Beers b INNER JOIN Breweries br ON br.Id = b.BreweryId\\\",\\n        (beer, brewery) =>\\n        {\\n            // Map the brewery that Dapper returns for us to the beer\\n            brewery.Address = addresses.FirstOrDefault(a => a.BreweryId == brewery.Id);\\n            beer.Brewery = brewery;\\n            return beer;\\n        },\\n        transaction: _dbTransaction\\n    );\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetAllBeers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Retrieve the addresses, as this is a nested mapping\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" addresses\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Addresses\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"        transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT b.*, br.* FROM Beers b INNER JOIN Breweries br ON br.Id = b.BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map the brewery that Dapper returns for us to the beer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" addresses\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"FirstOrDefault\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"a\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" a\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ==\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"        transaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbTransaction\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    );\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Again, taking a look at what we've done above, this query is pretty straight forward: we retrieve the brewery addresses, and then separately query the beers table with the breweries table and map each brewery's address during iteration over our result set. Looking good so far, let's bust out those retrieve by ID methods for both entities:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"breweryrepositorycs-1\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<Brewery> GetBreweryById(int id)\\n{\\n    var beersFromBrewery = (await _dbConnection.QueryAsync<Beer>(\\n        @\\\"SELECT * FROM Beers WHERE BreweryId = @Id\\\",\\n        new {Id = id},\\n        _dbTransaction)).ToList();\\n\\n    return (await _dbConnection.QueryAsync<Brewery, Address, Brewery>(\\n        @\\\"SELECT br.*, a.* FROM Breweries br INNER JOIN Addresses a ON a.BreweryId = br.Id WHERE br.Id = @Id\\\",\\n        (brewery, address) =>\\n        {\\n            // Since breweries have a one-to-one relation with address, we can initialize that mapping here\\n            brewery.Address = address;\\n\\n            // Add each beer from the previous query into the list of beers for the brewery\\n            if (beersFromBrewery.Any())\\n            {\\n                foreach (var beer in beersFromBrewery)\\n                {\\n                    brewery.Beers.Add(beer);\\n                }\\n            }\\n\\n            return brewery;\\n        },\\n        new { Id = id },\\n        _dbTransaction)).FirstOrDefault();\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beersFromBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Beers WHERE BreweryId = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"},\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT br.*, a.* FROM Breweries br INNER JOIN Addresses a ON a.BreweryId = br.Id WHERE br.Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Since breweries have a one-to-one relation with address, we can initialize that mapping here\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Add each beer from the previous query into the list of beers for the brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beersFromBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Any\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"())\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                foreach\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" in\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beersFromBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Add\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"FirstOrDefault\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"beerrepositorycs-1\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<Beer> GetBeerById(int id)\\n{\\n    // Retrieve the beer from the database\\n    var beerFromId = (await _dbConnection.QueryAsync<Beer, Brewery, Beer>(\\n        @\\\"SELECT b.*, br.* FROM Beers b\\n        INNER JOIN Breweries br ON br.Id = b.BreweryId\\n        WHERE b.Id = @Id\\\",\\n        (beer, brewery) =>\\n        {\\n            beer.Brewery = brewery;\\n            return beer;\\n        },\\n        new { Id = id },\\n        _dbTransaction)).FirstOrDefault();\\n\\n    // Return back to the caller if no beer is found, let the business logic decide what to do if we can't the specified beer\\n    if (beerFromId == null)\\n    {\\n        return null;\\n    }\\n\\n    // Map the address to the beer's brewery\\n    var address = await _dbConnection.QueryFirstOrDefaultAsync<Address>(\\n        @\\\"SELECT * FROM Addresses WHERE BreweryId = @BreweryId\\\",\\n        new { BreweryId = beerFromId.Brewery?.Id },\\n        _dbTransaction);\\n\\n    // Set the address found in the previous query to the beer's brewery address, if we have a brewery\\n    if (beerFromId.Brewery != null)\\n    {\\n        beerFromId.Brewery.Address = address;\\n    }\\n\\n    // Let's add all the beers to our brewery attached to this beer\\n    var beersFromBrewery = await _dbConnection.QueryAsync<Beer>(\\n        @\\\"SELECT * FROM Beers WHERE BreweryId = @BreweryId\\\",\\n        new { beerFromId.BreweryId },\\n        _dbTransaction);\\n\\n    // Lastly, let's add all the beers to the entity model\\n    foreach (var beer in beersFromBrewery)\\n    {\\n        beerFromId.Brewery?.Beers.Add(beer);\\n    }\\n\\n    return beerFromId;\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBeerById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Retrieve the beer from the database\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT b.*, br.* FROM Beers b\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"        INNER JOIN Breweries br ON br.Id = b.BreweryId\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"        WHERE b.Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"FirstOrDefault\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Return back to the caller if no beer is found, let the business logic decide what to do if we can't the specified beer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ==\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"        return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Map the address to the beer's brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryFirstOrDefaultAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Addresses WHERE BreweryId = @BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Set the address found in the previous query to the beer's brewery address, if we have a brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" !=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Let's add all the beers to our brewery attached to this beer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beersFromBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"SELECT * FROM Beers WHERE BreweryId = @BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Lastly, let's add all the beers to the entity model\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    foreach\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" in\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beersFromBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Add\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beerFromId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Pretty straight forward - the only addition here is the use of Dapper's \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"QueryFirstOrDefaultAsync<Beer>()\"}]},{\"type\":\"text\",\"value\":\" method, which we conveniently use to retrieve the address of the beer's brewery in question, set the brewery address, and finally attach all the beers we have in the database to the brewery. Again, I'm no Dapper expert by any means, so I'm sure we could optimize this query quite a bit. For the EF Core fellows in the crowd, the above would be equivalent to a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".Include().ThenInclude()\"}]},{\"type\":\"text\",\"value\":\" query, and while I'm sure we could combine some of the above queries, I break up each query for readability, as well as debug-ability. Next, let's add our create and update commands for each repository:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"beerrepositorycs-2\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<int> CreateBeer(Beer beer)\\n{\\n    // From our business rule we defined, we'll assume the brewery ID is always attached to the beer\\n    var beerToInsertSql = new StringBuilder(@\\\"INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n                                VALUES (@Name, @BeerStyle, @CreatedAt, @UpdatedAt, @BreweryId)\\\");\\n\\n    // Let's insert the beer and grab its ID\\n    var beerId = await _dbConnection.ExecuteScalarAsync<int>(\\n        beerToInsertSql.Append(_insertRowRetrievalQuery).ToString(),\\n        new\\n        {\\n            beer.Name,\\n            beer.BeerStyle,\\n            beer.CreatedAt,\\n            beer.UpdatedAt,\\n            beer.BreweryId\\n        },\\n        _dbTransaction);\\n\\n    // Finally, we'll return the newly inserted beer Id\\n    return beerId;\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // From our business rule we defined, we'll assume the brewery ID is always attached to the beer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerToInsertSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" StringBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"INSERT INTO Beers (Name, BeerStyle, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                                VALUES (@Name, @BeerStyle, @CreatedAt, @UpdatedAt, @BreweryId)\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Let's insert the beer and grab its ID\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteScalarAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        beerToInsertSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Append\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"_insertRowRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"CreatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Finally, we'll return the newly inserted beer Id\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"beerrepositorycs-3\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task UpdateBeer(Beer beer)\\n{\\n    // Our application layer will be in charge of mapping the new properties to the entity layer,\\n    // as well as validating that the beer exists, so the data layer will only be responsible for\\n    // inserting the values into the database; separation of concerns!\\n    await _dbConnection.ExecuteAsync(\\n        @\\\"UPDATE Beers SET Name = @Name, BeerStyle = @BeerStyle, UpdatedAt = @UpdatedAt, BreweryId = @BreweryId WHERE Id = @Id\\\",\\n        new\\n        {\\n            beer.Name,\\n            beer.BeerStyle,\\n            beer.UpdatedAt,\\n            beer.BreweryId,\\n            beer.Id\\n        },\\n        _dbTransaction);\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Our application layer will be in charge of mapping the new properties to the entity layer,\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // as well as validating that the beer exists, so the data layer will only be responsible for\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // inserting the values into the database; separation of concerns!\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"UPDATE Beers SET Name = @Name, BeerStyle = @BeerStyle, UpdatedAt = @UpdatedAt, BreweryId = @BreweryId WHERE Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"breweryrepositorycs-2\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<int> CreateBrewery(Brewery brewery)\\n{\\n    // Grab a reference to the address\\n    var address = brewery.Address;\\n    var breweryInsertSql =\\n        new StringBuilder(@\\\"INSERT INTO Breweries (Name, CreatedAt, UpdatedAt) VALUES (@Name, @CreatedAt, @UpdatedAt)\\\");\\n\\n    // Let's add the brewery\\n    var breweryId = await _dbConnection.ExecuteScalarAsync<int>(\\n        breweryInsertSql.Append(_rowInsertRetrievalQuery).ToString(),\\n        new { brewery.Name, brewery.CreatedAt, brewery.UpdatedAt },\\n        _dbTransaction);\\n\\n    // One of our business rules is that a brewery must have an associated address\\n    await _dbConnection.ExecuteAsync(\\n        @\\\"INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n                VALUES (@StreetAddress, @City, @State, @ZipCode, @CreatedAt, @UpdatedAt, @BreweryId)\\\",\\n        new\\n        {\\n            address.StreetAddress,\\n            address.City,\\n            address.State,\\n            address.ZipCode,\\n            address.CreatedAt,\\n            address.UpdatedAt,\\n            BreweryId = breweryId\\n        },\\n        _dbTransaction);\\n\\n    return breweryId;\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Grab a reference to the address\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryInsertSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" StringBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"@\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"INSERT INTO Breweries (Name, CreatedAt, UpdatedAt) VALUES (@Name, @CreatedAt, @UpdatedAt)\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Let's add the brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteScalarAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        breweryInsertSql\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Append\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"_rowInsertRetrievalQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"CreatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // One of our business rules is that a brewery must have an associated address\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"INSERT INTO Addresses (StreetAddress, City, State, ZipCode, CreatedAt, UpdatedAt, BreweryId)\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"                VALUES (@StreetAddress, @City, @State, @ZipCode, @CreatedAt, @UpdatedAt, @BreweryId)\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"CreatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"breweryrepositorycs-3\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task UpdateBrewery(Brewery brewery, bool updateAddress)\\n{\\n    // Again, we'll assume the brewery details are being validated and mapped properly in the application layer\\n    await _dbConnection.ExecuteAsync(\\n        @\\\"UPDATE Breweries SET Name = @Name, UpdatedAt = @UpdatedAt WHERE Id = @Id\\\",\\n        new\\n        {\\n            brewery.Name,\\n            brewery.UpdatedAt,\\n            brewery.Id\\n        },\\n        _dbTransaction);\\n\\n    if (brewery.Address != null && updateAddress)\\n    {\\n        // Again, we'll assume the brewery details are being validated and mapped properly in the application layer\\n        // For now, we won't allow users to swap breweries address to another address\\n        await _dbConnection.ExecuteAsync(\\n            @\\\"UPDATE Addresses SET StreetAddress = @StreetAddress, City = @City, ZipCode = @ZipCode, State = @State, UpdatedAt = @UpdatedAt WHERE Id = @Id\\\",\\n            new\\n            {\\n                brewery.Address.StreetAddress,\\n                brewery.Address.City,\\n                brewery.Address.ZipCode,\\n                brewery.Address.State,\\n                brewery.Address.UpdatedAt,\\n                brewery.Address.Id\\n            },\\n            _dbTransaction);\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" updateAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Again, we'll assume the brewery details are being validated and mapped properly in the application layer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"UPDATE Breweries SET Name = @Name, UpdatedAt = @UpdatedAt WHERE Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" !=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" &&\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" updateAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        // Again, we'll assume the brewery details are being validated and mapped properly in the application layer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        // For now, we won't allow users to swap breweries address to another address\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"            @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"UPDATE Addresses SET StreetAddress = @StreetAddress, City = @City, ZipCode = @ZipCode, State = @State, UpdatedAt = @UpdatedAt WHERE Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            new\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In our commands above, notice the absence of checking the entities passed in for validity and the absence of exceptions - that's intentional! Our data access layer is responsible for one thing, and one thing only: \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"database interaction\"}]},{\"type\":\"text\",\"value\":\". That's it; no more, no less. Any checking for request data, throwing exceptions, mapping entities, etc. will \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"all\"}]},{\"type\":\"text\",\"value\":\" be done in our core business layer, as that is its intended purpose. By keeping our persistence layer as simple as possible and giving it a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/Single_responsibility_principle\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"single responsibility\"}]},{\"type\":\"text\",\"value\":\" in the form of database access, we've create a boundary in this layer and between all other cross-cutting concerns.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In our create operations above, we also pass back the last effected row ID (in the case of SQLite and SQL Server) so that we can pass that back to the business layer. There's a few reasons for doing this:\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"By passing back the row ID to the core business layer, we allow our callers to simply query the database again with the inserted entity's row ID for a lightning fast retrieve, should the layer see a need for it (we will be doing this, for example)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"With the row ID being returned, the business layer can simply go about its business doing any business logic it needs to validate entities, link relations, etc.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Performing this passing of the last effected row ID in the persistence layer is (arguably) the easiest way to do this type of operation, as we are talking directly to the database in the layer and can easily access the row via SQL rather than having our callers perform a more intensive text based search, for example, in our database\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"So why wouldn't we want to do this? Well, there's one big reason where this may become an issue - concurrency. In a real world production database, there are hundreds of thousands (even millions at the enterprise scale) transactions being performed against database everyday. In doing so, there \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"is\"}]},{\"type\":\"text\",\"value\":\" a non-zero probability that when retrieving the last effected row ID, we \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"could\"}]},{\"type\":\"text\",\"value\":\" get back the ID of another entity that just so happened to be inserted, or updated, at that very moment as well. In practice, our implementation may not be the best approach in a high traffic production environment, but for our relatively simple application, it'll make do.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"I should mention that, again, as we're simply just exploring Dapper in our example application, there's still \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"a ton\"}]},{\"type\":\"text\",\"value\":\" of room for improvement here. Between our query optimization and testability of this layer, there's a lot of refactoring we could do here to make our code faster and more reliable. For our use case, we'll keep our queries and commands simple for now (as I'm in the same boat as many you - in \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"no\"}]},{\"type\":\"text\",\"value\":\" way a Dapper expert).\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lastly, we'll top off our CRUD operations with the implementation of each delete method:\"}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"breweryrepositorycs-4\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<int> DeleteBrewery(int breweryId)\\n{\\n    // Because we setup out database providers to cascade delete on parent entity removal, we won't have to\\n    // worry about individually removing all the associated beers and address\\n    // NOTE: Because we don't directly expose CRUD operations on the address table, we'll validate the cascade\\n    // remove directly in the database for now\\n    return await _dbConnection.ExecuteAsync(\\n            @\\\"DELETE FROM Breweries WHERE Id = @Id\\\",\\n        new { Id = breweryId },\\n        _dbTransaction);\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Because we setup out database providers to cascade delete on parent entity removal, we won't have to\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // worry about individually removing all the associated beers and address\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // NOTE: Because we don't directly expose CRUD operations on the address table, we'll validate the cascade\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // remove directly in the database for now\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"            @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"DELETE FROM Breweries WHERE Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"beerrepositorycs-4\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerRepository.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"public async Task<int> DeleteBeer(int beerId)\\n{\\n    // Our simplest command, just remove the beer directly from the database\\n    // Validation that the beer actually exists in the database will left to the application layer\\n    return await _dbConnection.ExecuteAsync(\\n        @\\\"DELETE FROM Beers WHERE Id = @Id\\\",\\n        new { Id = beerId },\\n        _dbTransaction);\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Our simplest command, just remove the beer directly from the database\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"    // Validation that the beer actually exists in the database will left to the application layer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _dbConnection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ExecuteAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"        @\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"DELETE FROM Beers WHERE Id = @Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"        _dbTransaction\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Our delete operations are simple as can be, just deleting rows from our database (with no validation being performed, as that is an exercise for the business layer). No magic here.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"And with that... we've \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"finally\"}]},{\"type\":\"text\",\"value\":\" completed our persistence layer! We've laid the foundation for our core business layer to now tap into a database to persist and query data, alongside allowing the option for three difference database providers. Not a bad day's work, if I do say so myself. As a side note, that was \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"a lot\"}]},{\"type\":\"text\",\"value\":\" of code we just cranked out. Let's recap exactly what we did in this post:\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We bootstrapped our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Data\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" projects\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We implemented CRUD operations using Dapper wrapped within a couple repositories, and all brought together by a unit of work\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We kickstarted our databases in the form of SQLite, SQL Server, and Postgres, leaving the choice up to the consumer by simply changing a connection string\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"On a rainy day, I'll sit down and guide us through setting up Docker images for database providers and integrating them with our .NET Core applications. For now, I'll leave it as an exercise for the reader on how to do so.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In our next post, we'll create a simple test project that will help bulletproof our code within this layer, so that any change we decide to make in the future, we'll be able to safely validate that it's still doing its job. After that, we'll implement our business layer that will contain our core CQRS architecture with the help of libraries in MediatR and FluentValidation. Check out the source code \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-2-data-layer\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"here\"}]},{\"type\":\"text\",\"value\":\" to see where we're at so far. Until next time, amigos!\"}]},{\"type\":\"element\",\"tag\":\"style\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"the-data-layer\",\"depth\":3,\"text\":\"The Data Layer\"}]}},\"_type\":\"markdown\",\"_id\":\"content:blog:net-core-dapper-and-crud-buzzword-bingo-part-2.md\",\"_source\":\"content\",\"_file\":\"blog/net-core-dapper-and-crud-buzzword-bingo-part-2.md\",\"_extension\":\"md\"},\"hash\":\"GKiqBJmTNj\"}";

export { netCoreDapperAndCrudBuzzwordBingoPart2 as default };
//# sourceMappingURL=net-core-dapper-and-crud-buzzword-bingo-part-2.mjs.map
