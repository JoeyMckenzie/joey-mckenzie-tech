// ROLLUP_NO_REPLACE 
 const netCoreDapperAndCrudBuzzwordBingoPart4 = "{\"parsed\":{\"_path\":\"/blog/net-core-dapper-and-crud-buzzword-bingo-part-4\",\"_dir\":\"blog\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"title\":\"Clean architecture, Dapper, MediatR, and buzzword bingo (part 4)\",\"description\":\"Write encapsulated business logic with the help of MediatR and the CQRS pattern.\",\"pubDate\":\"Feb 02 2020\",\"heroImage\":\"/blog/net-core-dapper-and-crud-series/part-4/use-automapper-meme.jpeg\",\"category\":\".NET\",\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The wait is finally over (sort of). As we recover from the scrupulous amount of Christmas cookies we consumed during our annual holiday bulking season (at least what I tell myself), I figured it's time to jump into the bulk of our fictional brewery app, Dappery. So far, we've:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Defined our domain layer and business entities used application wide\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Implemented our data access layer with the help of repositories wrapped in a unit of work\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Written unit tests for our persistence layer to ensure future proofing our code\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"And with most of the groundwork out of the way, we can finally jump into the core layer of Dappery. Before we dive into the code, let's remind ourselves of \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"why\"}]},{\"type\":\"text\",\"value\":\" exactly we've split our core business logic layer out into a high level detail of our application, with the lower level details (data access and API layers, in our case) \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"depending\"}]},{\"type\":\"text\",\"value\":\" on this layer:\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Our core business logic layer is the most complex in terms of duties it performs (not so much code-wise)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Encompassing the business logic with this layer prevents rules and policies from leaking into the low level details (the data access layer should not know \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"how\"}]},{\"type\":\"text\",\"value\":\" the data is mapped, for example)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We invert the dependency of the API layer and the business layer, as the API layer now depends on the core business layer\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The API layer has no notion of exactly \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"how\"}]},{\"type\":\"text\",\"value\":\" we interact with our data, it only talks to the core logic to perform services\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Noting the super meta meme at the top, some of you may be asserting through clenched teeth \\\"hey, AutoMapper is awesome!\\\" and rightfully so, \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/AutoMapper/AutoMapper\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"AutoMapper\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"is\"}]},{\"type\":\"text\",\"value\":\" in fact awesome. I'm a firm believer in the library and use it quite extensively in other applications. \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"However\"}]},{\"type\":\"text\",\"value\":\", I believe for our use case, the overhead of an entire mapping library that we will grossly under utilize the capabilities of, writing a few custom mappers within our core business logic layer will suffice. With that said, mapper libraries like AutoMapper do make writing the mind numbing boilerplate mapping code in large, complex applications much easier (as long as you know where a few of the \\\"gotchas\\\" can happen).\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Alright, with the preamble out of the way, let's get a game plan going for how we'll implement this layer:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We'll use our data access layer contracts (i.e. the interfaces we've defined in this layer) to access our database\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Using MediatR, we'll break our requests into queries and commands, effectively containing a finite set of application features that will be easier to code to and debug\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"While it may seem a little boilerplate-y, we avoid things like the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/God_object\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"God Object\"}]},{\"type\":\"text\",\"value\":\" anti-pattern, where everything gets shoved into one helper or\\nservice class\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We'll write two custom mappers that will map our beer and brewery entities into DTOs and resource to transport the database entities out of the lower levels\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Each feature request will be validated using the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JeremySkinner/FluentValidation\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"FluentValidation\"}]},{\"type\":\"text\",\"value\":\" library, acting as a guard between the API layer and core business layer to protect invalid state from making its way to the database\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We'll handle invalid scenarios in this layer and enforce business rules\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"As we can see, that's a lot of stuff - thus the reason our core business layer is in a layer of its own, independent of the lower level details. Without further ado, let's cut the chit chat and get down to business (pun intended). Let's start off by creating a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"text\",\"value\":\" directory within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" project, followed by creating two additional directories of \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"text\",\"value\":\" nested beneath our newly created \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"text\",\"value\":\" directory. Let's add one more folder underneath \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries/Commands\"}]},{\"type\":\"text\",\"value\":\" called \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBrewery\"}]},{\"type\":\"text\",\"value\":\". I know, I know... that's some deep structure we're building, but the architecture will help keep our application flows and paths neatly separated and easy to drill down into. Underneath \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries/Commands/CreateBeer\"}]},{\"type\":\"text\",\"value\":\", let's add a new C# file called \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand.cs\"}]},{\"type\":\"text\",\"value\":\" that will serve as the issuing command MediatR will emit to our application layer to begin the transaction for adding a brewery to the database.\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"createbrewerycommandcs\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.CreateBrewery\\n{\\n    using Domain.Dtos.Brewery;\\n    using Domain.Media;\\n    using MediatR;\\n\\n    public class CreateBreweryCommand : IRequest<BreweryResource>\\n    {\\n        public CreateBreweryCommand(CreateBreweryDto dto) => Dto = dto;\\n\\n        public CreateBreweryDto Dto { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IRequest<BreweryResource>\"}]},{\"type\":\"text\",\"value\":\" parent interface we're inheriting from is a MediatR interface that registers with our MediatR instance, with \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"text\",\"value\":\" being the response type we should expect when this request is issued. A pretty simple command, as we do nothing more than construct the request DTO that is passed into the business logic layer from the API layer (which we'll implement a little later), with \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"text\",\"value\":\" being the wrapper for the data we'll eventually use. We could also issue commands directly from the API layer, rather than wrapping requests for that layer in a command, or query - this is just my preference, so the API layer does not need to know what dependencies our commands and queries have, just that it needs to send its version of the object request. With our command in place, let's add a validator within the same directory by creating \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandValidator.cs\"}]},{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"createbrewerycommandvalidatorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandValidator.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.CreateBrewery\\n{\\n    using Extensions;\\n    using FluentValidation;\\n\\n    public class CreateBreweryCommandValidator : AbstractValidator<CreateBreweryCommand>\\n    {\\n        public CreateBreweryCommandValidator()\\n        {\\n            RuleFor(b => b.Dto)\\n                .NotNull()\\n                .WithMessage(\\\"A request must contain valid creation data\\\");\\n\\n            RuleFor(b => b.Dto.Name)\\n                .NotNullOrEmpty();\\n\\n            RuleFor(b => b.Dto.Address)\\n                .NotNull()\\n                .WithMessage(\\\"Must supply the address of the brewery when creating\\\");\\n\\n            RuleFor(b => b.Dto.Address!.City)\\n                .NotNullOrEmpty();\\n\\n            RuleFor(b => b.Dto.Address!.State)\\n                .HasValidStateAbbreviation();\\n\\n            RuleFor(b => b.Dto.Address!.StreetAddress)\\n                .HasValidStreetAddress();\\n\\n            RuleFor(b => b.Dto.Address!.ZipCode)\\n                .HasValidZipCode();\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" AbstractValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"A request must contain valid creation data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNullOrEmpty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply the address of the brewery when creating\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNullOrEmpty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"HasValidStateAbbreviation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"HasValidStreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"HasValidZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Using the FluentValidation interface \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"AbstractValidator<CreateBreweryCommand>\"}]},{\"type\":\"text\",\"value\":\", we're telling our validator instance (registered at startup, which again, we'll eventually see) that requests sending a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"text\",\"value\":\" need to adhere to the simple validation rules we've defined within the constructor of the class. Anytime we attempt to validate an instance of the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"text\",\"value\":\" using the FluentValidation \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"ValidationContext\"}]},{\"type\":\"text\",\"value\":\" class (which we'll see in just a bit), the library will give us back a context containing any errors the instantiated class contains. Since we've opted in to enable nullable reference types in our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core.csproj\"}]},{\"type\":\"text\",\"value\":\" file (inheriting from \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.targets\"}]},{\"type\":\"text\",\"value\":\" - a place to define build commonality amongst multiple projects and solutions), we use the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"text\",\"value\":\" bang operator to tell the compiler \\\"I know that \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"text\",\"value\":\" has the possibility to be null, but that won't happen\\\" because of the previous validation we've defined that will fire if we receive any DTO that does not have an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"text\",\"value\":\" instance. The last three validations actually use custom validators I've defined in a separate rule behavior class within an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"text\",\"value\":\" folder at the base of our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" project:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"rulebuilderextensionscs\"},\"children\":[{\"type\":\"text\",\"value\":\"RuleBuilderExtensions.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Extensions\\n{\\n    using System.Text.RegularExpressions;\\n    using FluentValidation;\\n\\n    public static class RuleBuilderExtensions\\n    {\\n        // Normally, would put things like this in a shared project, like a separate Dappery.Common project\\n        private static readonly Regex ValidStateRegex = new Regex(\\\"^((A[LKZR])|(C[AOT])|(D[EC])|(FL)|(GA)|(HI)|(I[DLNA])|(K[SY])|(LA)|(M[EDAINSOT])|(N[EVHJMYCD])|(O[HKR])|(PA)|(RI)|(S[CD])|(T[NX])|(UT)|(V[TA])|(W[AVIY]))$\\\");\\n        private static readonly Regex StreetAddressRegex = new Regex(\\\"\\\\\\\\d{1,5}\\\\\\\\s(\\\\\\\\b\\\\\\\\w*\\\\\\\\b\\\\\\\\s){1,2}\\\\\\\\w*\\\\\\\\.\\\");\\n        private static readonly Regex ZipCodeRegex = new Regex(\\\"^\\\\\\\\d{5}$\\\");\\n\\n        public static void NotNullOrEmpty<T>(this IRuleBuilder<T, string?> ruleBuilder)\\n        {\\n            ruleBuilder.Custom((stringToValidate, context) =>\\n            {\\n                if (string.IsNullOrWhiteSpace(stringToValidate))\\n                {\\n                    context.AddFailure($\\\"{context.PropertyName} cannot be null, or empty\\\");\\n                }\\n            });\\n        }\\n\\n        public static void HasValidStateAbbreviation<T>(this IRuleBuilder<T, string?> ruleBuilder)\\n        {\\n            ruleBuilder.Custom((stateAbbreviation, context) =>\\n            {\\n                if (!ValidStateRegex.IsMatch(stateAbbreviation))\\n                {\\n                    context.AddFailure($\\\"{stateAbbreviation} is not a valid state code\\\");\\n                }\\n            })\\n            .NotEmpty()\\n            .WithMessage(\\\"State code cannot be empty\\\");\\n        }\\n\\n        public static void HasValidStreetAddress<T>(this IRuleBuilder<T, string?> ruleBuilder)\\n        {\\n            ruleBuilder.Custom((streetAddress, context) =>\\n            {\\n                if (string.IsNullOrWhiteSpace(streetAddress))\\n                {\\n                    // Add the context failure and break out of the validation\\n                    context.AddFailure(\\\"Must supply a street address\\\");\\n                    return;\\n                }\\n\\n                if (!StreetAddressRegex.IsMatch(context.PropertyValue.ToString()))\\n                {\\n                    context.AddFailure($\\\"{streetAddress} is not a valid street address\\\");\\n                }\\n            });\\n        }\\n\\n        public static void HasValidZipCode<T>(this IRuleBuilder<T, string?> ruleBuilder)\\n        {\\n            ruleBuilder.Custom((zipCode, context) =>\\n            {\\n                if (string.IsNullOrWhiteSpace(zipCode))\\n                {\\n                    // Add the context failure and break out of the validation\\n                    context.AddFailure(\\\"Must supply the zip code\\\");\\n                    return;\\n                }\\n\\n                if (!ZipCodeRegex.IsMatch(context.PropertyValue.ToString()))\\n                {\\n                    context.AddFailure($\\\"{zipCode} is not a valid zipcode\\\");\\n                }\\n            });\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Text\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RegularExpressions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RuleBuilderExtensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        // Normally, would put things like this in a shared project, like a separate Dappery.Common project\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ValidStateRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"^((A[LKZR])|(C[AOT])|(D[EC])|(FL)|(GA)|(HI)|(I[DLNA])|(K[SY])|(LA)|(M[EDAINSOT])|(N[EVHJMYCD])|(O[HKR])|(PA)|(RI)|(S[CD])|(T[NX])|(UT)|(V[TA])|(W[AVIY]))$\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" StreetAddressRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"d{1,5}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"s(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"w*\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"s){1,2}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"w*\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ZipCodeRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Regex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"^\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\\\\\\\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"d{5}$\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" NotNullOrEmpty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRuleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Custom\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"((\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"stringToValidate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsNullOrWhiteSpace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"stringToValidate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyName\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\" cannot be null, or empty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" HasValidStateAbbreviation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRuleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Custom\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"((\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"stateAbbreviation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ValidStateRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsMatch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"stateAbbreviation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"stateAbbreviation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\" is not a valid state code\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            })\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotEmpty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"State code cannot be empty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" HasValidStreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRuleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Custom\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"((\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"streetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsNullOrWhiteSpace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"streetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"                    // Add the context failure and break out of the validation\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply a street address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddressRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsMatch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyValue\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"streetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\" is not a valid street address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":51},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":52},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":53},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":54},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":55},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" HasValidZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRuleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"T\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":56},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":57},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ruleBuilder\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Custom\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"((\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"zipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":58},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":59},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsNullOrWhiteSpace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"zipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":60},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":61},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"                    // Add the context failure and break out of the validation\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":62},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply the zip code\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":63},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                    return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":64},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":65},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":66},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCodeRegex\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"IsMatch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"PropertyValue\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":67},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":68},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddFailure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"zipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\" is not a valid zipcode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":69},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":70},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":71},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":72},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":73},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Nothing too complicated here, we're just building some extension methods off of the FluentValidation \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IRuleBuilder<T, TProperty>\"}]},{\"type\":\"text\",\"value\":\" interface to combine several validations on the validation context, as well as add some custom validations like the state code regex for convenience. Inside each extension method, we utilize the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Custom\"}]},{\"type\":\"text\",\"value\":\" extension method of the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IRuleBuilder\"}]},{\"type\":\"text\",\"value\":\" interface and pass an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Action<TProperty, CustomContext>\"}]},{\"type\":\"text\",\"value\":\" lambda where we make our custom assertions and failures to the returned validation context that then gets passed down the chain with our query and command validator classes. I highly recommend checking out the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://fluentvalidation.net/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"documentation for FluentValidation\"}]},{\"type\":\"text\",\"value\":\" as the maintainers have done a great job utilizing examples and references similar to the above. Next, with our brewery command and request validator in place, let's add the main staple of functionality within our application layer - the MediatR handler.\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"createbrewerycommandhandlercs\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandHandler.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.CreateBrewery\\n{\\n    using System;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using Data;\\n    using Domain.Entities;\\n    using Domain.Media;\\n    using Extensions;\\n    using MediatR;\\n\\n    public class CreateBreweryCommandHandler : IRequestHandler<CreateBreweryCommand, BreweryResource>\\n    {\\n        private readonly IUnitOfWork _unitOfWork;\\n\\n        public CreateBreweryCommandHandler(IUnitOfWork unitOfWork)\\n        {\\n            _unitOfWork = unitOfWork;\\n        }\\n\\n        public async Task<BreweryResource> Handle(CreateBreweryCommand request, CancellationToken cancellationToken)\\n        {\\n            var breweryToCreate = new Brewery\\n            {\\n                Name = request.Dto.Name,\\n                CreatedAt = DateTime.UtcNow,\\n                UpdatedAt = DateTime.UtcNow,\\n                Address = new Address\\n                {\\n                    StreetAddress = request.Dto.Address?.StreetAddress,\\n                    City = request.Dto.Address?.City,\\n                    State = request.Dto.Address?.State,\\n                    ZipCode = request.Dto.Address?.ZipCode,\\n                    CreatedAt = DateTime.UtcNow,\\n                    UpdatedAt = DateTime.UtcNow\\n                }\\n            };\\n\\n            // Create our brewery, retrieve the brewery so we can map it to the response, and clean up our resources\\n            var breweryId = await _unitOfWork.BreweryRepository.CreateBrewery(breweryToCreate, cancellationToken);\\n            var insertedBrewery = await _unitOfWork.BreweryRepository.GetBreweryById(breweryId, cancellationToken);\\n            _unitOfWork.Commit();\\n\\n            // Map and return the response\\n            return new BreweryResource(insertedBrewery.ToBreweryDto());\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequestHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryToCreate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                CreatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" DateTime\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UtcNow\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" DateTime\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UtcNow\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Address\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    CreatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" DateTime\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UtcNow\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    UpdatedAt\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" DateTime\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"UtcNow\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            };\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Create our brewery, retrieve the brewery so we can map it to the response, and clean up our resources\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"breweryToCreate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" insertedBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"breweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map and return the response\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"insertedBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"As we'll see with each command and query handler, the core business logic of CRUD'ing our way through the application will happen within each of these class types. For our creates (our beer create operations will be eerily similar), we instantiate a new \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"text\",\"value\":\" entity that will be added to our database with all the proper fields validated by our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandValidator\"}]},{\"type\":\"text\",\"value\":\" so we can rest assured the fields we require to store a brewery are there (avoiding a bunch of \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"if (field is null) { // Do something, or throw an exception }\"}]},{\"type\":\"text\",\"value\":\" checks that will clutter things up), and call our data layer operations to create and retrieve the brewery. Recall that when we create a brewery through our repository method, we get back the last inserted brewery record ID from the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"text\",\"value\":\" table, which we can then turn around and retrieve that newly inserted brewery using the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"text\",\"value\":\" method. Now granted, there's multiple way this could be optimized and refactored, but this was my deliberate decision to keep our CRUD operations simple and adhering to only conform to a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://en.wikipedia.org/wiki/Single_responsibility_principle\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"single responsibility\"}]},{\"type\":\"text\",\"value\":\". There may times where the command to create the brewery does in fact fail at the database level, however, where the connection to physical server may be bad, or the server might be down, etc., so I figured I would leave the failure cases to the smart guys reading this post as an exercise for the audience.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Once our brewery entity has been retrieved, we then construct an instance of the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"text\",\"value\":\" to hand back to the API layer with a brewery DTO injected into the instance. Let's take a look at our mappers while we're here to get a sense of how this mapping is done exactly. Let's create a directory in our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" project called \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"text\",\"value\":\" where we'll create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryExtensions.cs\"}]},{\"type\":\"text\",\"value\":\" class:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"breweryextensionscs\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryExtensions.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Extensions\\n{\\n    using System.Linq;\\n    using Domain.Dtos;\\n    using Domain.Dtos.Beer;\\n    using Domain.Dtos.Brewery;\\n    using Domain.Entities;\\n\\n    public static class BreweryExtensions\\n    {\\n        public static BreweryDto ToBreweryDto(this Brewery brewery, bool includeBeerList = true)\\n        {\\n            return new BreweryDto\\n            {\\n                Id = brewery.Id,\\n                Name = brewery.Name,\\n                Beers = includeBeerList ? brewery.Beers.Select(b => new BeerDto\\n                {\\n                    Id = b.Id,\\n                    Name = b.Name,\\n                    Style = b.BeerStyle.ToString()\\n                }) : default,\\n                Address = new AddressDto\\n                {\\n                    City = brewery.Address?.City,\\n                    State = brewery.Address?.State,\\n                    StreetAddress = brewery.Address?.StreetAddress,\\n                    ZipCode = brewery.Address?.ZipCode\\n                },\\n                BeerCount = includeBeerList ? brewery.BeerCount : (int?) null\\n            };\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Linq\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryExtensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" bool\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" includeBeerList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" includeBeerList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Select\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                })\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" default\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" AddressDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                    ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                },\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                BeerCount\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" includeBeerList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" ?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerCount\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"?)\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            };\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We see that our mapper is nothing but a simple extension method of the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"text\",\"value\":\" entity class that transforms the entity into our friendly DTO, omitting fields that don't necessarily need to be transported between layers (i.e. audit properties, or IDs of related entities, just to name a few). From a relationship perspective, remember that a brewery \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"has many\"}]},{\"type\":\"text\",\"value\":\" beers, where a beer \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"has one\"}]},{\"type\":\"text\",\"value\":\" brewery; we control the nested relational mapping with the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"includeBeerList\"}]},{\"type\":\"text\",\"value\":\" default flag, as to avoid recursively mapped beers and breweries. Nothing too complicated here, just a nice simple mapper, and for those interested, I've written a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/blob/master/tests/Dappery.Core.Tests/Extensions/BreweryExtensionsTest.cs\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"few unit tests\"}]},{\"type\":\"text\",\"value\":\" to capture the expected behavior of our custom mapping class. While we're at it, let's go ahead and add a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerExtensions.cs\"}]},{\"type\":\"text\",\"value\":\" class within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"text\",\"value\":\" directory:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"beerextensionscs\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerExtensions.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Extensions\\n{\\n    using Domain.Dtos.Beer;\\n    using Domain.Entities;\\n\\n    public static class BeerExtensions\\n    {\\n        public static BeerDto ToBeerDto(this Beer beer)\\n        {\\n             return new BeerDto\\n            {\\n                Id = beer.Id,\\n                Name = beer.Name,\\n                Style = beer.BeerStyle.ToString(),\\n                Brewery = beer.Brewery?.ToBreweryDto(false),\\n            };\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerExtensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ToBeerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"             return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"),\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            };\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Even simpler, our custom beer mapper just transforms a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"text\",\"value\":\" entity into a slim DTO, while utilizing our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".ToBreweryDto()\"}]},{\"type\":\"text\",\"value\":\" brewery extension method to non-recursively map the beer's brewery.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"At this point, you're probably wondering \\\"this is great, but how exactly \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"does\"}]},{\"type\":\"text\",\"value\":\" our validation catch validation errors?\\\" That's a great question, with the answer being the MediatR library's \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IPipelineBehavior<TRequest, TResponse>\"}]},{\"type\":\"text\",\"value\":\" interface. For the interested, \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/jbogard\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Jimmy Boggard\"}]},{\"type\":\"text\",\"value\":\", an absolute rockstar for the .NET community, and the maintainers of MediatR have a great \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/jbogard/MediatR/wiki\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"library doc\"}]},{\"type\":\"text\",\"value\":\" explaining the exact behavior of pipelines and why they are useful to the library. In essence, a every message we send with MediatR will flow through our registered pipeline (which we'll register as a dependency within our API layer), giving us the power to check requests for certain properties, validate behaviors, log specific messages based on the request - really anything we want. For our use case, we'll implement the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IPipelineBehavior<TRequest, TResponse>\"}]},{\"type\":\"text\",\"value\":\" interface to define a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RequestValidationBehavior<TRequest, TResponse>\"}]},{\"type\":\"text\",\"value\":\" piece of the request pipeline that will take care of inspecting every request to make sure it's confiding by our FluentValidation validation rules that we define for each command and some queries. When we register our FluentValidation classes at application startup, we'll tell the library that all of our validators will be within the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" assembly, letting FluentValidator scan the assembly to find and register each of our validation contexts, so that we can generically call each request's validation context to then validate the request with our registered validators. Pretty cool, huh? Side note: I've never used \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"validate\"}]},{\"type\":\"text\",\"value\":\", or any of its derivatives, that much in a sentence ever in my entire life.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Let's go ahead and create an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Infrastructure\"}]},{\"type\":\"text\",\"value\":\" folder within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" project, and then create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RequestValidationBehavior.cs\"}]},{\"type\":\"text\",\"value\":\" class that will implement an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IPipelineBehavior\"}]},{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"requestvalidationbehaviorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"RequestValidationBehavior.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Infrastructure\\n{\\n    using System.Collections.Generic;\\n    using System.Linq;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using FluentValidation;\\n    using MediatR;\\n    using Microsoft.Extensions.Logging;\\n\\n    public class RequestValidationBehavior<TRequest, TResponse> : IPipelineBehavior<TRequest, TResponse>\\n        where TRequest : IRequest<TResponse>\\n    {\\n        private readonly IEnumerable<IValidator<TRequest>> _validators;\\n        private readonly ILogger<TRequest> _logger;\\n\\n        public RequestValidationBehavior(IEnumerable<IValidator<TRequest>> validators, ILogger<TRequest> logger)\\n        {\\n            _validators = validators;\\n            _logger = logger;\\n        }\\n\\n        public Task<TResponse> Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate<TResponse> next)\\n        {\\n            var context = new ValidationContext(request);\\n\\n            var failures = _validators\\n                .Select(v => v.Validate(context))\\n                .SelectMany(result => result.Errors)\\n                .Where(f => f != null)\\n                .ToList();\\n\\n            if (failures.Any())\\n            {\\n                _logger.LogInformation($\\\"Validation failures for request [{request}]\\\");\\n                throw new ValidationException(failures);\\n            }\\n\\n            return next();\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Infrastructure\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Linq\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Microsoft\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Logging\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RequestValidationBehavior\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" TResponse\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IPipelineBehavior\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" TResponse\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        where\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TResponse\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _validators\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" ILogger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _logger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" RequestValidationBehavior\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IEnumerable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" validators\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" ILogger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" logger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _validators\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" validators\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _logger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" logger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TResponse\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RequestHandlerDelegate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"TResponse\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" next\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" ValidationContext\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" failures\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _validators\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Select\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"v\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" v\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Validate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"context\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"))\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"SelectMany\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Errors\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Where\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"f\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" f\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" !=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"failures\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Any\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"())\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                _logger\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"LogInformation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Validation failures for request [\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" ValidationException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"failures\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" next\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Let's break it down:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"First, we inject from the DI container (which we'll see in the API layer with the help of ASP.NET Core) all of the validations that were found in the assembly that all descended from \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"AbstractValidator<TCommand>\"}]},{\"type\":\"text\",\"value\":\" and retrieves the rules we've defined per instance\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We retrieve the validators from the request, which we'll know at runtime\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Using LINQ, we run through each validator, validate the context (whatever the request type may be), flatten the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"ValidationResult\"}]},{\"type\":\"text\",\"value\":\" enumerable by mapping just the error property with \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\".SelectMany()\"}]},{\"type\":\"text\",\"value\":\", and collect any that return errors\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We check to see if there were any violations of our rules, and throw the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"ValidationException\"}]},{\"type\":\"text\",\"value\":\" that we'll catch within a global exception handler within the API layer so we can return detailed validation messages to the consumers\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Finally, we let the request thread continue on its merry way throughout the layers of our application (unscathed if there were no errors)\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Whew, that small bit of code is doing \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"a lot\"}]},{\"type\":\"text\",\"value\":\" of big things for us. Using MediatR and FluentValidator in tandem is a match made in heaven, letting developers customize their application request flow, providing convention to help reduce the complexity of our software. Now that we've gotten our pipeline behavior piece implemented, let's go ahead and extend the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IServiceCollection\"}]},{\"type\":\"text\",\"value\":\" from the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Microsoft.Extensions.DependencyInjection\"}]},{\"type\":\"text\",\"value\":\" namespace that will do all the leg work of resolving our dependencies. Within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"text\",\"value\":\" folder, let's add a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"StartupExtensions.cs\"}]},{\"type\":\"text\",\"value\":\" class. We use \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"StartupExtensions\"}]},{\"type\":\"text\",\"value\":\" here which is a bit specific for my liking, but our use case is just a simple ASP.NET Core application (you may see this with the name \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DependencyInjection.cs\"}]},{\"type\":\"text\",\"value\":\" or something similar around various .NET libraries on GitHub).\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"startupextensionscs\"},\"children\":[{\"type\":\"text\",\"value\":\"StartupExtensions.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Extensions\\n{\\n    using System.Reflection;\\n    using Infrastructure;\\n    using MediatR;\\n    using Microsoft.Extensions.DependencyInjection;\\n\\n    public static class StartupExtensions\\n    {\\n        /// <summary>\\n        /// Extension to contain all of our business layer dependencies for our external server providers (ASP.NET Core in our case).\\n        /// </summary>\\n        /// <param name=\\\"services\\\">Service collection for dependency injection</param>\\n        public static void AddDapperyCore(this IServiceCollection services)\\n        {\\n            // Add our MediatR and FluentValidation dependencies\\n            services.AddMediatR(Assembly.GetExecutingAssembly());\\n\\n            // Add our MediatR validation pipeline\\n            services.AddTransient(typeof(IPipelineBehavior<,>), typeof(RequestValidationBehavior<,>));\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Reflection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Infrastructure\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Microsoft\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DependencyInjection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" StartupExtensions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        /// \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"summary\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        /// Extension to contain all of our business layer dependencies for our external server providers (ASP.NET Core in our case).\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        /// \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"summary\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"        /// \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"param\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"services\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"Service collection for dependency injection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"param\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" static\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" void\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" AddDapperyCore\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IServiceCollection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" services\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Add our MediatR and FluentValidation dependencies\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            services\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddMediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Assembly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetExecutingAssembly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Add our MediatR validation pipeline\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            services\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"AddTransient\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"typeof\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IPipelineBehavior\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<,>),\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" typeof\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RequestValidationBehavior\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<,>));\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Nothing too complicated just here, just adding MediatR to the service registry, telling it to scan this assembly for implemented types of the library so that it can wire things up correctly for our internal \\\"messaging\\\" system, then finishing up by adding an a reference to the service container for our MediatR pipeline with a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1#service-lifetimes-and-registration-options\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"transient\"}]},{\"type\":\"text\",\"value\":\" lifetime. If you're unfamiliar with the different ways we can register service dependencies in .NET Core, check out the linked docs for a quite delightful Sunday morning read. I won't go into detail, as the docs do a pretty good job of explaining our use of the transient lifetime here, but in summary, services with this lifetime are dolled out each time the the service is requested when a thread just so happens to hit a piece of code that requires one. From the docs:\"}]},{\"type\":\"element\",\"tag\":\"blockquote\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Transient lifetime services (AddTransient) are created each time they're requested from the service container. This lifetime works best for lightweight, stateless services.\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Now that we've got most of our core layer plumbing out of the way, we can now just focus on implementing our query and command handlers in a similar fashion to the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandHandler\"}]},{\"type\":\"text\",\"value\":\" from above. We've given users the option of creating breweries, so now let's add an update feature to modify a previously created brewery. Let's add an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\"}]},{\"type\":\"text\",\"value\":\" folder within the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries/Commands\"}]},{\"type\":\"text\",\"value\":\" directory. For the curious, my preference for the folder structure is to mimic an application use case, solely for the case of debug-ability and easily being able to identify what areas of the application are in charge of what. This is more often than not referred to as \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"vertical slice architecture\"}]},{\"type\":\"text\",\"value\":\", and there's a \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://jimmybogard.com/vertical-slice-architecture/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"great article\"}]},{\"type\":\"text\",\"value\":\", again by Jimmy Boggard, that discusses the power of utilizing this pattern. Notwithstanding, there are a few places where I've been a bit lazy and not so idiomatic in designing with that in mind (particularly in the domain layer), but I'll leave the clean up as an exercise for the reader. Let's add an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand.cs\"}]},{\"type\":\"text\",\"value\":\" underneath the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\"}]},{\"type\":\"text\",\"value\":\" folder:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"updatebrewerycommandcs\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Beers.Commands.UpdateBeery\\n{\\n    using Domain.Dtos.Beer;\\n    using Domain.Media;\\n    using MediatR;\\n\\n    public class UpdateBeerCommand : IRequest<BeerResource>\\n    {\\n        public UpdateBeerCommand(UpdateBeerDto beerDto, int requestId) => (Dto, BeerId) = (beerDto, requestId);\\n\\n        public UpdateBeerDto Dto { get; }\\n\\n        public int BeerId { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBeery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBeerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" requestId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" requestId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBeerDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BeerId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Easy enough, all our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand\"}]},{\"type\":\"text\",\"value\":\" requires is an ID for the brewery and the properties we've exposed that consumer are allowed to update. Next, let's define our validators in an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommandValidator.cs\"}]},{\"type\":\"text\",\"value\":\" class:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"updatebrewerycommandvalidatorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommandValidator.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.UpdateBrewery\\n{\\n    using FluentValidation;\\n\\n    public class UpdateBreweryCommandValidator : AbstractValidator<UpdateBreweryCommand>\\n    {\\n        public UpdateBreweryCommandValidator()\\n        {\\n            RuleFor(request => request.Dto)\\n                .NotNull()\\n                .WithMessage(\\\"Must supply a request body\\\");\\n\\n            RuleFor(request => request.BreweryId)\\n                .NotNull()\\n                .WithMessage(\\\"Must supply a valid brewery ID\\\");\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" AbstractValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply a request body\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply a valid brewery ID\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We want each request that comes in for a brewery update to have a valid DTO in the body, along with a brewery ID that we'll retrieve from the URI. There's an argument to be made for sticking the ID as a requirement within the DTO, but this just my preference since we'll assume our consumers will be following RESTful best practices (and that's a \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hefty\"}]},{\"type\":\"text\",\"value\":\" assumption). Next, we'll go ahead and define our command handler within a new \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommandHandler.cs\"}]},{\"type\":\"text\",\"value\":\" class within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\"}]},{\"type\":\"text\",\"value\":\" directory:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"updatebrewerycommandhandlercs\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommandHandler.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.UpdateBrewery\\n{\\n    using System.Net;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using Extensions;\\n    using Data;\\n    using Domain.Media;\\n    using Exceptions;\\n    using MediatR;\\n\\n    public class UpdateBreweryCommandHandler : IRequestHandler<UpdateBreweryCommand, BreweryResource>\\n    {\\n        private readonly IUnitOfWork _unitOfWork;\\n\\n        public UpdateBreweryCommandHandler(IUnitOfWork unitOfWork)\\n        {\\n            _unitOfWork = unitOfWork;\\n        }\\n\\n        public async Task<BreweryResource> Handle(UpdateBreweryCommand request, CancellationToken cancellationToken)\\n        {\\n            // Retrieve the brewery on the request\\n            var breweryToUpdate = await _unitOfWork.BreweryRepository.GetBreweryById(request.BreweryId, cancellationToken);\\n\\n            // Invalidate the request if no brewery was found\\n            if (breweryToUpdate is null)\\n            {\\n                throw new DapperyApiException($\\\"No brewery was found with ID {request.BreweryId}\\\", HttpStatusCode.NotFound);\\n            }\\n\\n            // Update the properties on the brewery entity\\n            breweryToUpdate.Name = request.Dto.Name;\\n            var updateBreweryAddress = false;\\n\\n            // If the request contains an address, set the flag for the persistence layer to update the address table\\n            if (request.Dto.Address != null && breweryToUpdate.Address != null)\\n            {\\n                updateBreweryAddress = true;\\n                breweryToUpdate.Address.StreetAddress = request.Dto.Address.StreetAddress;\\n                breweryToUpdate.Address.City = request.Dto.Address.City;\\n                breweryToUpdate.Address.State = request.Dto.Address.State;\\n                breweryToUpdate.Address.ZipCode = request.Dto.Address.ZipCode;\\n            }\\n\\n            // Update the brewery in the database, retrieve it, and clean up our resources\\n            await _unitOfWork.BreweryRepository.UpdateBrewery(breweryToUpdate, cancellationToken, updateBreweryAddress);\\n            var updatedBrewery = await _unitOfWork.BreweryRepository.GetBreweryById(request.BreweryId, cancellationToken);\\n            _unitOfWork.Commit();\\n\\n            // Map and return the brewery\\n            return new BreweryResource(updatedBrewery.ToBreweryDto());\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Net\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Exceptions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequestHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" UpdateBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Retrieve the brewery on the request\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Invalidate the request if no brewery was found\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" is\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"No brewery was found with ID \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"NotFound\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Update the properties on the brewery entity\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" updateBreweryAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // If the request contains an address, set the flag for the persistence layer to update the address table\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" !=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" &&\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" !=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                updateBreweryAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Update the brewery in the database, retrieve it, and clean up our resources\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"UpdateBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"breweryToUpdate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" updateBreweryAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" updatedBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":51},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map and return the brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":52},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"updatedBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":53},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":54},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":55},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"First, we see that we're using the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"text\",\"value\":\" that was passed along in the request to retrieve the brewery we should be updating. If no brewery is found, we'll throw a 404 back to the consumer using a custom exception we'll define in just a minute. Once we know we've got our brewery, we update each of the updatable fields on the entity, and set a flag for the repository implementation to update the address if need be. Due to our schema design, we probably could have opted for the \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docs.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/implement-value-objects\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"value object\"}]},{\"type\":\"text\",\"value\":\" pattern here and nested the address within the brewery table, and maybe one of these weekends I'll get around to making that update. Let's create an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Exceptions\"}]},{\"type\":\"text\",\"value\":\" folder underneath the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Dappery.Core\"}]},{\"type\":\"text\",\"value\":\" project root, and inside that, we'll create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiException.cs\"}]},{\"type\":\"text\",\"value\":\" class:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dapperyapiexceptioncs\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiException.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Exceptions\\n{\\n    using System;\\n    using System.Collections.Generic;\\n    using System.Net;\\n\\n    public class DapperyApiException : Exception\\n    {\\n        public DapperyApiException(string message, HttpStatusCode statusCode)\\n            : base(message)\\n        {\\n            StatusCode = statusCode;\\n            ApiErrors = new List<DapperyApiError>();\\n        }\\n\\n        public HttpStatusCode StatusCode { get; }\\n\\n        public ICollection<DapperyApiError> ApiErrors { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Exceptions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Collections\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Generic\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Net\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Exception\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" statusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C99076\"},\"children\":[{\"type\":\"text\",\"value\":\" base\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            StatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" statusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ApiErrors\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" List\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiError\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" StatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" ICollection\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiError\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ApiErrors\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Now, there's an argument to be made about using exceptions \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://wiki.c2.com/?DontUseExceptionsForFlowControl\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"as control flow within an application\"}]},{\"type\":\"text\",\"value\":\" which is essentially what we're doing here, but I'll let that holy war continue on StackOverflow. For our simple use case, we'll use this exception to handle any sort of operation that cannot be performed to protect misinformation from reaching the lower level concerns and handle the situation with a global (at least within the scope of our API) exception handler in that layer that will decipher and determine the proper message to send back to consumers. We've also defined a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiError\"}]},{\"type\":\"text\",\"value\":\" type that will encapsulate and be used as a translator of sorts to convey to consumers exactly what happened to cause the exception:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dapperyapierrorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiError.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Exceptions\\n{\\n    public class DapperyApiError\\n    {\\n        public DapperyApiError(string errorMessage, string propertyName)\\n        {\\n            ErrorMessage = errorMessage;\\n            PropertyName = propertyName;\\n        }\\n\\n        public string ErrorMessage { get; }\\n\\n        public string PropertyName { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Exceptions\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiError\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiError\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" errorMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" propertyName\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            ErrorMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" errorMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            PropertyName\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" propertyName\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" ErrorMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" string\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" PropertyName\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiException\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiError\"}]},{\"type\":\"text\",\"value\":\" will work in tandem to help to give us a predefined convention for handling any sort of error scenario within the core application layer so that we can easily contextualize the content of the error and pass the information back up rather than leaking bad state down to our other layers. We'll see in the API layer how we define a handler within our request pipeline to handle error scenarios in a somewhat graceful manner, though there are quite a few ways to do this. For now, our simple error and exception classes will work just fine, but we might want to rethink the approach at scale when coordinating between multiple API (micro)services, whether prosumer, or consumer. With the last piece of the infrastructure plumping out of the way, let's set our focus back on the commands and queries we're in the midst of writing.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Since we're building a (probably overcomplicated) CRUD solution, let's give users the option to retrieve and search for breweries. Let's create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"text\",\"value\":\" folder underneath our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"text\",\"value\":\" directory, and start off by creating another folder of \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBrewery\"}]},{\"type\":\"text\",\"value\":\". After that's done, let's create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQuery.cs\"}]},{\"type\":\"text\",\"value\":\" file:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"retrievebreweryquerycs\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQuery.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Queries.RetrieveBrewery\\n{\\n    using Domain.Media;\\n    using MediatR;\\n\\n    public class RetrieveBreweryQuery : IRequest<BreweryResource>\\n    {\\n        public RetrieveBreweryQuery(int id) => Id = id;\\n\\n        public int Id { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Easy enough, just a simple \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IRequest\"}]},{\"type\":\"text\",\"value\":\" that will return a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"text\",\"value\":\" back to the consumer, given an ID to match on. With that out of the way, let's create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQueryValidator.cs\"}]},{\"type\":\"text\",\"value\":\" validator class to catch mischievous consumers that will try and invoke this operation and somehow manage to fool the ASP.NET Core route matching system:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"retrievebreweryqueryvalidatorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQueryValidator.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Queries.RetrieveBrewery\\n{\\n    using FluentValidation;\\n\\n    public class RetrieveBreweryQueryValidator : AbstractValidator<RetrieveBreweryQuery>\\n    {\\n        public RetrieveBreweryQueryValidator()\\n        {\\n            RuleFor(b => b.Id)\\n                .NotNull()\\n                .NotEmpty()\\n                .WithMessage(\\\"Must supply an ID to retrieve a brewery\\\")\\n                .GreaterThanOrEqualTo(1)\\n                .WithMessage(\\\"Must be a valid brewery ID\\\");\\n\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQueryValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" AbstractValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQueryValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotEmpty\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply an ID to retrieve a brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GreaterThanOrEqualTo\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must be a valid brewery ID\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Here, we define two validations in not allowing null IDs to propogate to this layer (shouldn't happen in the first place, since we did not declare the ID as nullable), and the ID should be greater than zero, as our table constraint is using the ID as an index and primary key. Next, let's define our query handler with a new \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQueryHandler.cs\"}]},{\"type\":\"text\",\"value\":\" class:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"retrievebreweryqueryhandlercs\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQueryHandler.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Queries.RetrieveBrewery\\n{\\n    using System.Net;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using Data;\\n    using Domain.Media;\\n    using Exceptions;\\n    using Extensions;\\n    using MediatR;\\n\\n    public class RetrieveBreweryQueryHandler : IRequestHandler<RetrieveBreweryQuery, BreweryResource>\\n    {\\n        private readonly IUnitOfWork _unitOfWork;\\n\\n        public RetrieveBreweryQueryHandler(IUnitOfWork unitOfWork)\\n        {\\n            _unitOfWork = unitOfWork;\\n        }\\n\\n        public async Task<BreweryResource> Handle(RetrieveBreweryQuery request, CancellationToken cancellationToken)\\n        {\\n            // Retrieve the brewery and clean up our resources\\n            var brewery = await _unitOfWork.BreweryRepository.GetBreweryById(request.Id, cancellationToken);\\n            _unitOfWork.Commit();\\n\\n            // Invalidate the request if no brewery is found\\n            if (brewery is null)\\n            {\\n                throw new DapperyApiException($\\\"No brewery found with ID {request.Id}\\\", HttpStatusCode.NotFound);\\n            }\\n\\n            // Map and return the brewery\\n            return new BreweryResource(brewery.ToBreweryDto());\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Net\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Exceptions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQueryHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequestHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" RetrieveBreweryQueryHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"RetrieveBreweryQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Retrieve the brewery and clean up our resources\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Invalidate the request if no brewery is found\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" is\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"No brewery found with ID \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"NotFound\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map and return the brewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"This is about as standard as a retrieve request gets: attempt to grab the brewery from the database using our application repositories, clean up our resources, throw our custom exception for not found if no brewery was returned, and return the resource with a view model friendly representation of our brewery entity. While we're at the 'R' in CRUD, let's add an operation for our consumers to get a list of all breweries. Inside the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery/Queries\"}]},{\"type\":\"text\",\"value\":\" folder, go ahead and create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweries\"}]},{\"type\":\"text\",\"value\":\" folder, followed by a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQuery.cs\"}]},{\"type\":\"text\",\"value\":\" class inside the newly created folder:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"getbreweryquerycs\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryQuery.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Queries.GetBreweries\\n{\\n    using Domain.Media;\\n    using MediatR;\\n\\n    public class GetBreweriesQuery : IRequest<BreweryResourceList>\\n    {\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweries\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweriesQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResourceList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Our simplest form of an \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"IRequest\"}]},{\"type\":\"text\",\"value\":\", we're letting MediatR know that anytime a message is sent with the context of \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQuery\"}]},{\"type\":\"text\",\"value\":\", the library will map that request to a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQueryHandler\"}]},{\"type\":\"text\",\"value\":\" (below) and return a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResourceList\"}]},{\"type\":\"text\",\"value\":\". Let's implement the handler:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"getbreweryquerycs-1\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryQuery.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Queries.GetBreweries\\n{\\n    using System.Linq;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using Data;\\n    using Domain.Media;\\n    using Extensions;\\n    using MediatR;\\n\\n    public class GetBreweriesQueryHandler : IRequestHandler<GetBreweriesQuery, BreweryResourceList>\\n    {\\n        private readonly IUnitOfWork _unitOfWork;\\n\\n        public GetBreweriesQueryHandler(IUnitOfWork unitOfWork)\\n        {\\n            _unitOfWork = unitOfWork;\\n        }\\n\\n        public async Task<BreweryResourceList> Handle(GetBreweriesQuery request, CancellationToken cancellationToken)\\n        {\\n            // Retrieve the breweries and clean up our resources\\n            var breweries = await _unitOfWork.BreweryRepository.GetAllBreweries(cancellationToken);\\n            _unitOfWork.Commit();\\n\\n            // Map our breweries from the returned query\\n            var mappedBreweries = breweries.Select(b => b.ToBreweryDto());\\n\\n            // Map each brewery to its corresponding DTO\\n            return new BreweryResourceList(mappedBreweries);\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Queries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweries\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Linq\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Extensions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweriesQueryHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequestHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResourceList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GetBreweriesQueryHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryResourceList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQuery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Retrieve the breweries and clean up our resources\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetAllBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map our breweries from the returned query\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" mappedBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Select\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToBreweryDto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Map each brewery to its corresponding DTO\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryResourceList\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"mappedBreweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"As straightforward as a search request be, we're simply just grabbing all the breweries from the database, projecting each entity into its view model representation, and returning the list to the consumer. No execptions, and we also handle the case if there are no breweries in the database to just return an empty list (which we'll cover with a unit test). Now, since we're building just a small demo application, we \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"probably\"}]},{\"type\":\"text\",\"value\":\" shouldn't be returning the entirety of records from the breweries table within the database. A more sound and performant implementation of this handler would be to pass query filters and options for pagination on the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweriesQuery\"}]},{\"type\":\"text\",\"value\":\", so that we could refine our SQL and not have Dapper try to map every record to its corresponding C# POCO. Again, I'll leave this as an exercise for the reader, or maybe comeback on a rainy day to refactor this (most likely not, though). For Completeness, let's finish up our set of brewery operations by adding a delete command to our application by creating a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\"}]},{\"type\":\"text\",\"value\":\" folder nested within our \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries/Commands\"}]},{\"type\":\"text\",\"value\":\" directory, then creating a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommand.cs\"}]},{\"type\":\"text\",\"value\":\" file:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"deletebrewerycommandcs\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommand.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.DeleteBrewery\\n{\\n    using MediatR;\\n\\n    public class DeleteBreweryCommand : IRequest<Unit>\\n    {\\n        public DeleteBreweryCommand(int id) => BreweryId = id;\\n\\n        public int BreweryId { get; }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Unit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\" int\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" {\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" get\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"All we require for a delete command is just the ID, which we'll get from the API layer. Let's create a validator for the hooligans that might try and break the chain of command within the same \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\"}]},{\"type\":\"text\",\"value\":\" directory:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"deletebrewerycommandvalidatorcs\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommandValidator.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.DeleteBrewery\\n{\\n    using FluentValidation;\\n\\n    public class DeleteBreweryCommandValidator : AbstractValidator<DeleteBreweryCommand>\\n    {\\n        public DeleteBreweryCommandValidator()\\n        {\\n            RuleFor(b => b.BreweryId)\\n                .NotNull()\\n                .WithMessage(\\\"Must supply the brewery ID\\\");\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" FluentValidation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" AbstractValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommandValidator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"            RuleFor\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" b\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"NotNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"                .\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"WithMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Must supply the brewery ID\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We don't want to perform any delete request if we haven't an ID to validate the beer exists in the database, first and foremost. Again, since our delete command is correct by construction since we did \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"not\"}]},{\"type\":\"text\",\"value\":\" tell the command to expect a nullable \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"int\"}]},{\"type\":\"text\",\"value\":\", we should never\"},{\"type\":\"element\",\"tag\":\"sup\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tm\"}]},{\"type\":\"text\",\"value\":\" see this behavior, but it doesn't hurt to have an extra layer of validation. Finally, let's finish up by implementing the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommandHandler.cs\"}]},{\"type\":\"text\",\"value\":\" class:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"deletebrewerycommandhandlercs\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommandHandler.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Breweries.Commands.DeleteBrewery\\n{\\n    using System.Net;\\n    using System.Threading;\\n    using System.Threading.Tasks;\\n    using Data;\\n    using Exceptions;\\n    using MediatR;\\n\\n    public class DeleteBreweryCommandHandler : IRequestHandler<DeleteBreweryCommand, Unit>\\n    {\\n        private readonly IUnitOfWork _unitOfWork;\\n\\n        public DeleteBreweryCommandHandler(IUnitOfWork unitOfWork)\\n        {\\n            _unitOfWork = unitOfWork;\\n        }\\n\\n        public async Task<Unit> Handle(DeleteBreweryCommand request, CancellationToken cancellationToken)\\n        {\\n            // Retrieve the brewery and invalidate the request if none is found\\n            var breweryToDelete = await _unitOfWork.BreweryRepository.GetBreweryById(request.BreweryId, cancellationToken);\\n\\n            // Invalidate the request if no brewery is found\\n            if (breweryToDelete is null)\\n            {\\n                throw new DapperyApiException($\\\"No brewery was found with ID {request.BreweryId}\\\", HttpStatusCode.NotFound);\\n            }\\n\\n            // Delete the brewery from the database and clean up our resources once we know we have a valid beer\\n            await _unitOfWork.BreweryRepository.DeleteBrewery(request.BreweryId, cancellationToken);\\n            _unitOfWork.Commit();\\n\\n            return Unit.Value;\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Breweries\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Net\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Exceptions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" MediatR\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IRequestHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Unit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        private\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" readonly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" DeleteBreweryCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"IUnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Unit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBreweryCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Retrieve the brewery and invalidate the request if none is found\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" breweryToDelete\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"GetBreweryById\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Invalidate the request if no brewery is found\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" (\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"breweryToDelete\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" is\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" null\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"                throw\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"$\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"No brewery was found with ID \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"NotFound\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Delete the brewery from the database and clean up our resources once we know we have a valid beer\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryRepository\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"DeleteBrewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" cancellationToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            _unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Commit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Unit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Value\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Again, no shenanigans here, as we retrieve the brewery first to validate it exists, handle the case of no brewery found, and remove it from the database and pass nothing but a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"Unit.Value\"}]},{\"type\":\"text\",\"value\":\" (from the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"MediatR\"}]},{\"type\":\"text\",\"value\":\" namespace) to signal the work we performed is finished and successful.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Alright, let's take a minute to breathe, as that was a lot of code we just cranked out. To cleanse our minds, I'll take a break from finishing our beer operations by showing some examples of how we might write some unit tests for this layer. \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-3-core-layer/tests/Dappery.Core.Tests\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"I'll leave this link\"}]},{\"type\":\"text\",\"value\":\" for the interested to scan through how I wrote each handler test (happy paths only). Using the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandHandlerTest.cs\"}]},{\"type\":\"text\",\"value\":\" xUnit spec as an example:\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"createbeercommandhandlertestcs\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBeerCommandHandlerTest.cs\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":\"language-csharp shiki shiki-themes vitesse-dark\",\"code\":\"namespace Dappery.Core.Tests.Beers\\n{\\n    using System.Net;\\n    using System.Threading.Tasks;\\n    using Core.Beers.Commands.CreateBeer;\\n    using Domain.Dtos.Beer;\\n    using Domain.Entities;\\n    using Domain.Media;\\n    using Exceptions;\\n    using Shouldly;\\n    using Xunit;\\n\\n    public class CreateBeerCommandHandlerTest : TestFixture\\n    {\\n        [Fact]\\n        public async Task GivenValidRequest_WhenBreweryExists_ReturnsMappedAndCreatedBeer()\\n        {\\n            // Arrange\\n            using var unitOfWork = UnitOfWork;\\n            var beerCommand = new CreateBeerCommand(new CreateBeerDto\\n            {\\n                Name = \\\"Test Beer\\\",\\n                Style = \\\"Lager\\\",\\n                BreweryId = 1\\n            });\\n            var handler = new CreateBeerCommandHandler(unitOfWork);\\n\\n            // Act\\n            var result = await handler.Handle(beerCommand, CancellationTestToken);\\n\\n            // Assert\\n            result.ShouldNotBeNull();\\n            result.ShouldBeOfType<BeerResource>();\\n            result.Self.ShouldNotBeNull();\\n            result.Self.Brewery.ShouldNotBeNull();\\n            result.Self.Brewery?.Address.ShouldNotBeNull();\\n            result.Self.Brewery?.Address?.StreetAddress.ShouldBe(\\\"1030 E Cypress Ave Ste D\\\");\\n            result.Self.Brewery?.Address?.City.ShouldBe(\\\"Redding\\\");\\n            result.Self.Brewery?.Address?.State.ShouldBe(\\\"CA\\\");\\n            result.Self.Brewery?.Address?.ZipCode.ShouldBe(\\\"96002\\\");\\n            result.Self.Brewery?.Beers.ShouldBeNull();\\n            result.Self.Brewery?.Id.ShouldBe(1);\\n            result.Self.Brewery?.Name.ShouldBe(\\\"Fall River Brewery\\\");\\n            result.Self.Id.ShouldNotBeNull();\\n            result.Self.Name.ShouldBe(beerCommand.Dto.Name);\\n            result.Self.Style.ShouldBe(beerCommand.Dto.Style);\\n        }\\n\\n        [Fact]\\n        public async Task GivenValidRequest_WhenBreweryDoesNotExist_ThrowsApiExceptionForBadRequest()\\n        {\\n            // Arrange\\n            using var unitOfWork = UnitOfWork;\\n            var beerCommand = new CreateBeerCommand(new CreateBeerDto\\n            {\\n                Name = \\\"Test Beer\\\",\\n                Style = \\\"Lager\\\",\\n                BreweryId = 11\\n            });\\n            var handler = new CreateBeerCommandHandler(unitOfWork);\\n\\n            // Act\\n            var result = await Should.ThrowAsync<DapperyApiException>(async () => await handler.Handle(beerCommand, CancellationTestToken));\\n\\n            // Assert\\n            result.ShouldNotBeNull();\\n            result.StatusCode.ShouldBe(HttpStatusCode.BadRequest);\\n        }\\n\\n        [Fact]\\n        public async Task GivenValidRequest_WithInvalidBeerStyle_ReturnsMappedAndCreatedBeerWithOtherAsStyle()\\n        {\\n            // Arrange\\n            using var unitOfWork = UnitOfWork;\\n            var beerCommand = new CreateBeerCommand(new CreateBeerDto\\n            {\\n                Name = \\\"Test Beer\\\",\\n                Style = \\\"Not defined!\\\",\\n                BreweryId = 1\\n            });\\n            var handler = new CreateBeerCommandHandler(unitOfWork);\\n\\n            // Act\\n            var result = await handler.Handle(beerCommand, CancellationTestToken);\\n\\n            // Assert\\n            result.ShouldNotBeNull();\\n            result.ShouldBeOfType<BeerResource>();\\n            result.Self.ShouldNotBeNull();\\n            result.Self.Brewery.ShouldNotBeNull();\\n            result.Self.Brewery?.Address.ShouldNotBeNull();\\n            result.Self.Brewery?.Address?.StreetAddress.ShouldBe(\\\"1030 E Cypress Ave Ste D\\\");\\n            result.Self.Brewery?.Address?.City.ShouldBe(\\\"Redding\\\");\\n            result.Self.Brewery?.Address?.State.ShouldBe(\\\"CA\\\");\\n            result.Self.Brewery?.Address?.ZipCode.ShouldBe(\\\"96002\\\");\\n            result.Self.Brewery?.Beers.ShouldBeNull();\\n            result.Self.Brewery?.Id.ShouldBe(1);\\n            result.Self.Brewery?.Name.ShouldBe(\\\"Fall River Brewery\\\");\\n            result.Self.Id.ShouldNotBeNull();\\n            result.Self.Name.ShouldBe(beerCommand.Dto.Name);\\n            result.Self.Style.ShouldBe(BeerStyle.Other.ToString());\\n        }\\n    }\\n}\\n\",\"language\":\"csharp\",\"meta\":\"\",\"style\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"namespace\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Dappery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tests\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Net\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" System\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Threading\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Tasks\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Core\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Commands\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Dtos\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Entities\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Domain\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Media\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Exceptions\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Shouldly\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"    using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Xunit\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"    public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommandHandlerTest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" :\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" TestFixture\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        [\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Fact\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"]\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GivenValidRequest_WhenBreweryExists_ReturnsMappedAndCreatedBeer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Arrange\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Test Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Lager\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\" 1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Act\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationTestToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Assert\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBeOfType\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":34},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":35},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":36},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":37},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"1030 E Cypress Ave Ste D\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":38},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Redding\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":39},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"CA\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":40},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"96002\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":41},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":42},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":43},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Fall River Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":44},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":45},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":46},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":47},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":48},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":49},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        [\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Fact\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"]\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":50},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GivenValidRequest_WhenBreweryDoesNotExist_ThrowsApiExceptionForBadRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":51},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":52},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Arrange\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":53},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":54},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":55},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":56},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Test Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":57},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Lager\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":58},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\" 11\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":59},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":60},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":61},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":62},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Act\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":63},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" Should\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ThrowAsync\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"DapperyApiException\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" ()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" =>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationTestToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"));\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":64},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":65},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Assert\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":66},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":67},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"HttpStatusCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BadRequest\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":68},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":69},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":70},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        [\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"Fact\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"]\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":71},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"        public\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" Task\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" GivenValidRequest_WithInvalidBeerStyle_ReturnsMappedAndCreatedBeerWithOtherAsStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":72},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":73},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Arrange\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":74},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4D9375\"},\"children\":[{\"type\":\"text\",\"value\":\"            using\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" UnitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":75},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerDto\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":76},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            {\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":77},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Test Beer\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":78},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\" \\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Not defined!\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":79},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"                BreweryId\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\" 1\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":80},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"            });\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":81},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\" CreateBeerCommandHandler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"unitOfWork\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":82},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":83},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Act\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":84},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"            var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\" result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\" =\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\" await\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" handler\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"Handle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\" CancellationTestToken\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":85},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"emptyLinePlaceholder\":true},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":86},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#758575DD\"},\"children\":[{\"type\":\"text\",\"value\":\"            // Assert\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":87},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":88},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBeOfType\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#5DA994\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerResource\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\">();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":89},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":90},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":91},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":92},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"StreetAddress\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"1030 E Cypress Ave Ste D\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":93},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"City\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Redding\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":94},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"State\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"CA\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":95},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Address\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"ZipCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"96002\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":96},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Beers\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":97},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#4C9A91\"},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":98},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#CB7676\"},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D\"},\"children\":[{\"type\":\"text\",\"value\":\"Fall River Brewery\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#C98A7D99\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":99},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldNotBeNull\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":100},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"beerCommand\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Dto\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Name\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":101},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"            result\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ShouldBe\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"BeerStyle\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#BD976A\"},\"children\":[{\"type\":\"text\",\"value\":\"Other\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#80A665\"},\"children\":[{\"type\":\"text\",\"value\":\"ToString\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"());\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":102},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"        }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":103},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"    }\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":104},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"style\":\"--shiki-default:#666666\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We see that there are quite a few similarities with how we wrote unit tests for the data layer. We define a common \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"TestFixture\"}]},{\"type\":\"text\",\"value\":\" that our test files descend from in order to capture a clean test context between specs where all of our dependencies are wired up for us and guaranteed fresh for each test run. Then, we write just a few simple tests that cover each scenario we could possibly see within the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"CreateBreweryCommandHandler\"}]},{\"type\":\"text\",\"value\":\" implementation by setting up the command, declaring and assigning a reference to the handler, and capturing the resulting \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"handler.Handle()\"}]},{\"type\":\"text\",\"value\":\" response to validate against. I won't include the other tests here for brevity, but I definitely encourage the curious out there to check out how I've written the other tests, and even more so encourage any method of where we might improve these tests.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In an effort to not bore you guys \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"too much\"}]},{\"type\":\"text\",\"value\":\", I'll snap the chalk line for this post here, as the beer operations share a lot of the same ideas with how we wrote the brewery operations, and \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/JoeyMckenzie/Dappery/tree/dappery-part-3-core-layer/src/Dappery.Core/Beers\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"I'll leave this link here\"}]},{\"type\":\"text\",\"value\":\" for you guys to checkout how, exactly, we might write those commands and queries. For the most part, it'll feel eerily similar in setup, with just a few minor tweaks since we're working within the context of the child in the beer-brewery relationship. While this might seem like a lot of redundant, rather boilerplate-y code, I think we should discuss the tradeoffs of using MediatR with the CQRS pattern:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Since we've separated commands from queries, we've implicitly created clearly defined boundaries within the core application layer\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"If we want to add additional features, we can easily do so without fear of modifying existing behavior as we've compartmentalized each request in total isolation from one another\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We've greatly reduced number of states our application could possibly create, with a finite number of logical paths a request thread could take\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Notice we have no classical service-type classes as we we're deliberate about not creating an all encompassing service that would mix our commands and queries together\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"While all this sounds great, one could also argue that we've complicated the code by adding such convention all over the place\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"At the end of the day, no matter how we implement the core application layer, it will still have just one responsibility - encompass all the business logic. We've seen that using MediatR, FluentValidation, and a few simple mappers, we can build a flexible, modular business logic layer that is easy to extend and modify to fit our business needs and requirements. In our next post, we'll \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"finally\"}]},{\"type\":\"text\",\"value\":\" finish up our application by slapping an API layer on top of all the code we've written thus far and see if this thing actually works.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"And with that... I think it's time for a beer. Cheers everyone!\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"import BlogLayout from '@/layouts/BlogLayout';\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"export default ({ children }) => \"},{\"type\":\"element\",\"tag\":\"blog-layout\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"{children}\"}]},{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"style\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"createbrewerycommandcs\",\"depth\":3,\"text\":\"CreateBreweryCommand.cs\"},{\"id\":\"createbrewerycommandvalidatorcs\",\"depth\":3,\"text\":\"CreateBreweryCommandValidator.cs\"},{\"id\":\"rulebuilderextensionscs\",\"depth\":3,\"text\":\"RuleBuilderExtensions.cs\"},{\"id\":\"createbrewerycommandhandlercs\",\"depth\":3,\"text\":\"CreateBreweryCommandHandler.cs\"},{\"id\":\"breweryextensionscs\",\"depth\":3,\"text\":\"BreweryExtensions.cs\"},{\"id\":\"beerextensionscs\",\"depth\":3,\"text\":\"BeerExtensions.cs\"},{\"id\":\"requestvalidationbehaviorcs\",\"depth\":3,\"text\":\"RequestValidationBehavior.cs\"},{\"id\":\"startupextensionscs\",\"depth\":3,\"text\":\"StartupExtensions.cs\"},{\"id\":\"updatebrewerycommandcs\",\"depth\":3,\"text\":\"UpdateBreweryCommand.cs\"},{\"id\":\"updatebrewerycommandvalidatorcs\",\"depth\":3,\"text\":\"UpdateBreweryCommandValidator.cs\"},{\"id\":\"updatebrewerycommandhandlercs\",\"depth\":3,\"text\":\"UpdateBreweryCommandHandler.cs\"},{\"id\":\"dapperyapiexceptioncs\",\"depth\":3,\"text\":\"DapperyApiException.cs\"},{\"id\":\"dapperyapierrorcs\",\"depth\":3,\"text\":\"DapperyApiError.cs\"},{\"id\":\"retrievebreweryquerycs\",\"depth\":3,\"text\":\"RetrieveBreweryQuery.cs\"},{\"id\":\"retrievebreweryqueryvalidatorcs\",\"depth\":3,\"text\":\"RetrieveBreweryQueryValidator.cs\"},{\"id\":\"retrievebreweryqueryhandlercs\",\"depth\":3,\"text\":\"RetrieveBreweryQueryHandler.cs\"},{\"id\":\"getbreweryquerycs\",\"depth\":3,\"text\":\"GetBreweryQuery.cs\"},{\"id\":\"getbreweryquerycs-1\",\"depth\":3,\"text\":\"GetBreweryQuery.cs\"},{\"id\":\"deletebrewerycommandcs\",\"depth\":3,\"text\":\"DeleteBreweryCommand.cs\"},{\"id\":\"deletebrewerycommandvalidatorcs\",\"depth\":3,\"text\":\"DeleteBreweryCommandValidator.cs\"},{\"id\":\"deletebrewerycommandhandlercs\",\"depth\":3,\"text\":\"DeleteBreweryCommandHandler.cs\"},{\"id\":\"createbeercommandhandlertestcs\",\"depth\":3,\"text\":\"CreateBeerCommandHandlerTest.cs\"}]}},\"_type\":\"markdown\",\"_id\":\"content:blog:net-core-dapper-and-crud-buzzword-bingo-part-4.md\",\"_source\":\"content\",\"_file\":\"blog/net-core-dapper-and-crud-buzzword-bingo-part-4.md\",\"_extension\":\"md\"},\"hash\":\"U4rWkIg0Ci\"}";

export { netCoreDapperAndCrudBuzzwordBingoPart4 as default };
//# sourceMappingURL=net-core-dapper-and-crud-buzzword-bingo-part-4.mjs.map
